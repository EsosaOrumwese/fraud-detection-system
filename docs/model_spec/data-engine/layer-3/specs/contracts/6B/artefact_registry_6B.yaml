# Artefact registry for Layer-3 / Segment 6B

subsegments:
  - id: "6B"
    name: "Behaviour & Fraud Cascades (What happens?)"
    artifacts:
      # --- S0 ---
      - name: s0_gate_receipt_6B
        path: data/layer3/6B/s0_gate_receipt/manifest_fingerprint={manifest_fingerprint}/s0_gate_receipt_6B.json
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.6B.validation.s0_gate_receipt
        license: null
        role: Behavioural gate receipt for 6B; one JSON object per manifest_fingerprint
          summarising upstream gates, contracts_6B and sealed_inputs_digest_6B.
        dependencies:
        - mlr.6B.validation.sealed_inputs
        - mlr.1A.validation.bundle
        - mlr.1A.validation.passed
        - mlr.1B.validation.bundle
        - mlr.1B.validation.passed
        - mlr.2A.validation.bundle
        - mlr.2A.validation.passed
        - mlr.2B.validation.bundle
        - mlr.2B.validation.passed
        - mlr.3A.validation.bundle
        - mlr.3A.validation.passed
        - mlr.3B.validation.bundle
        - mlr.3B.validation.passed
        - mlr.5A.validation.bundle
        - mlr.5A.validation.passed
        - mlr.5B.validation.bundle
        - mlr.5B.validation.passed
        - mlr.6A.validation.bundle
        - mlr.6A.validation.passed
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/gate/6B/s0_gate_receipt_6B
        cross_layer: true
        notes: null
      - name: sealed_inputs_6B
        path: data/layer3/6B/sealed_inputs/manifest_fingerprint={manifest_fingerprint}/sealed_inputs_6B.json
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.6B.validation.sealed_inputs
        license: null
        role: Sealed list of all artefacts 6B is allowed to read for a given manifest_fingerprint,
          with roles, schema_refs and digests.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/gate/6B/sealed_inputs_6B
        cross_layer: false
        notes: null
      # --- S0 sealed inputs (upstream cross-layer) ---
      - name: validation_bundle_1A
        path: data/layer1/1A/validation/manifest_fingerprint={manifest_fingerprint}/
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.1A.validation.bundle
        license: null
        role: Upstream validation bundle for Segment 1A.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.1A.yaml#/validation/validation_bundle
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_passed_flag_1A
        path: data/layer1/1A/validation/manifest_fingerprint={manifest_fingerprint}/_passed.flag
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.1A.validation.passed
        license: null
        role: HashGate PASS flag for Segment 1A.
        dependencies:
        - mlr.1A.validation.bundle
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer1.yaml#/validation/passed_flag
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_bundle_1B
        path: data/layer1/1B/validation/manifest_fingerprint={manifest_fingerprint}/
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.1B.validation.bundle
        license: null
        role: Upstream validation bundle for Segment 1B.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.1B.yaml#/validation/validation_bundle_1B
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_passed_flag_1B
        path: data/layer1/1B/validation/manifest_fingerprint={manifest_fingerprint}/_passed.flag
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.1B.validation.passed
        license: null
        role: HashGate PASS flag for Segment 1B.
        dependencies:
        - mlr.1B.validation.bundle
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.1B.yaml#/validation/passed_flag
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_bundle_2A
        path: data/layer1/2A/validation/manifest_fingerprint={manifest_fingerprint}/
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.2A.validation.bundle
        license: null
        role: Upstream validation bundle for Segment 2A.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.2A.yaml#/validation/validation_bundle_2A
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_passed_flag_2A
        path: data/layer1/2A/validation/manifest_fingerprint={manifest_fingerprint}/_passed.flag
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.2A.validation.passed
        license: null
        role: HashGate PASS flag for Segment 2A.
        dependencies:
        - mlr.2A.validation.bundle
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.2A.yaml#/validation/passed_flag
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_bundle_2B
        path: data/layer1/2B/validation/manifest_fingerprint={manifest_fingerprint}/index.json
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.2B.validation.bundle
        license: null
        role: Upstream validation bundle index for Segment 2B.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer1.yaml#/validation/validation_bundle/index_schema
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_passed_flag_2B
        path: data/layer1/2B/validation/manifest_fingerprint={manifest_fingerprint}/_passed.flag
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.2B.validation.passed
        license: null
        role: HashGate PASS flag for Segment 2B.
        dependencies:
        - mlr.2B.validation.bundle
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.1B.yaml#/validation/passed_flag
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_bundle_3A
        path: data/layer1/3A/validation/manifest_fingerprint={manifest_fingerprint}/
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.3A.validation.bundle
        license: null
        role: Upstream validation bundle for Segment 3A.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer1.yaml#/validation/validation_bundle_index_3A
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_passed_flag_3A
        path: data/layer1/3A/validation/manifest_fingerprint={manifest_fingerprint}/_passed.flag
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.3A.validation.passed
        license: null
        role: HashGate PASS flag for Segment 3A.
        dependencies:
        - mlr.3A.validation.bundle
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer1.yaml#/validation/passed_flag_3A
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_bundle_3B
        path: data/layer1/3B/validation/manifest_fingerprint={manifest_fingerprint}/
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.3B.validation.bundle
        license: null
        role: Upstream validation bundle for Segment 3B.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer1.yaml#/validation/validation_bundle_index_3B
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_passed_flag_3B
        path: data/layer1/3B/validation/manifest_fingerprint={manifest_fingerprint}/_passed.flag
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.3B.validation.passed
        license: null
        role: HashGate PASS flag for Segment 3B.
        dependencies:
        - mlr.3B.validation.bundle
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer1.yaml#/validation/passed_flag_3B
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_bundle_5A
        path: data/layer2/5A/validation/manifest_fingerprint={manifest_fingerprint}/
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.5A.validation.bundle
        license: null
        role: Upstream validation bundle for Segment 5A.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer2.yaml#/validation/validation_bundle_index_5A
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_passed_flag_5A
        path: data/layer2/5A/validation/manifest_fingerprint={manifest_fingerprint}/_passed.flag
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.5A.validation.passed
        license: null
        role: HashGate PASS flag for Segment 5A.
        dependencies:
        - mlr.5A.validation.bundle
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer2.yaml#/validation/passed_flag_5A
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_bundle_5B
        path: data/layer2/5B/validation/manifest_fingerprint={manifest_fingerprint}/
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.5B.validation.bundle
        license: null
        role: Upstream validation bundle for Segment 5B.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer2.yaml#/validation/validation_bundle_index_5B
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_passed_flag_5B
        path: data/layer2/5B/validation/manifest_fingerprint={manifest_fingerprint}/_passed.flag
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.5B.validation.passed
        license: null
        role: HashGate PASS flag for Segment 5B.
        dependencies:
        - mlr.5B.validation.bundle
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer2.yaml#/validation/passed_flag_5B
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_bundle_6A
        path: data/layer3/6A/validation/manifest_fingerprint={manifest_fingerprint}/
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.6A.validation.bundle
        license: null
        role: Validation bundle directory for Segment 6A (index + evidence + _passed.flag).
        dependencies:
        - mlr.6A.validation.report
        - mlr.6A.validation.issue_table
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/validation/6A/validation_bundle_index_6A
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: validation_passed_flag_6A
        path: data/layer3/6A/validation/manifest_fingerprint={manifest_fingerprint}/_passed.flag
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.6A.validation.passed
        license: null
        role: HashGate flag for Layer-3 / Segment 6A. Contains the SHA-256 digest over the
          validation bundle for this manifest_fingerprint.
        dependencies:
        - mlr.6A.validation.bundle
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/validation/6A/passed_flag_6A
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: sealed_inputs_5A
        path: data/layer2/5A/sealed_inputs/manifest_fingerprint={manifest_fingerprint}/sealed_inputs_5A.json
        type: dataset
        category: control
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.5A.validation.sealed_inputs
        license: null
        role: Layer-2 / Segment 5A sealed inputs manifest.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.5A.yaml#/validation/sealed_inputs_5A
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: sealed_inputs_5B
        path: data/layer2/5B/sealed_inputs/manifest_fingerprint={manifest_fingerprint}/sealed_inputs_5B.json
        type: dataset
        category: control
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.5B.control.sealed_inputs
        license: null
        role: Layer-2 / Segment 5B sealed inputs manifest.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.5B.yaml#/validation/sealed_inputs_5B
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      - name: sealed_inputs_6A
        path: data/layer3/6A/sealed_inputs/manifest_fingerprint={manifest_fingerprint}/sealed_inputs_6A.json
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.6A.validation.sealed_inputs
        license: null
        role: Manifest of all artefacts 6A is authorised to depend on for a given manifest_fingerprint,
          with roles, digests, and read scopes.
        dependencies:
        - mlr.6A.validation.s0_gate_receipt
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/gate/6A/sealed_inputs_6A
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=none
      # --- S0 sealed inputs (upstream cross-layer) ---
      # --- S0 sealed inputs (upstream data-plane) ---
      - name: arrival_events_5B
        path: data/layer2/5B/arrival_events/seed={seed}/manifest_fingerprint={manifest_fingerprint}/scenario_id={scenario_id}/part-*.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{scenario_id}'
        digest: null
        manifest_key: mlr.5B.egress.arrival_events
        license: null
        role: Upstream arrival events surface from Segment 5B.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.5B.yaml#/egress/s4_arrival_events_5B
        cross_layer: true
        notes: retention_class=engine_control_plane; pii_class=synthetic_customer
      # --- S0 sealed inputs (priors & taxonomies) ---

      - name: s1_party_base_6A
        path: data/layer3/6A/s1_party_base_6A/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/s1_party_base_6A.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}'
        digest: null
        manifest_key: mlr.6A.s1.party_base
        license: null
        role: Base party/customer universe for Layer-3 / Segment 6A. One row per party per
          (manifest_fingerprint, seed), including type, home geography and static segment
          attributes.
        dependencies:
        - mlr.6A.validation.s0_gate_receipt
        - mlr.6A.validation.sealed_inputs
        - mlr.6A.prior.population
        - mlr.6A.prior.segmentation
        - mlr.6A.taxonomy.party
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6A.yaml#/s1/party_base
        cross_layer: true
        notes: retention_class=core_entity; pii_class=synthetic_customer
      - name: s2_account_base_6A
        path: data/layer3/6A/s2_account_base_6A/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/s2_account_base_6A.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}'
        digest: null
        manifest_key: mlr.6A.s2.account_base
        license: null
        role: Account and product universe for Layer-3 / Segment 6A. One row per account
          per (manifest_fingerprint, seed), including owner references, account type, currency
          and static account attributes.
        dependencies:
        - mlr.6A.validation.s0_gate_receipt
        - mlr.6A.validation.sealed_inputs
        - mlr.6A.s1.party_base
        - mlr.6A.prior.product_mix
        - mlr.6A.prior.account_per_party
        - mlr.6A.taxonomy.account_types
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6A.yaml#/s2/account_base
        cross_layer: true
        notes: retention_class=core_entity; pii_class=synthetic_customer
      - name: s3_instrument_base_6A
        path: data/layer3/6A/s3_instrument_base_6A/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/s3_instrument_base_6A.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}'
        digest: null
        manifest_key: mlr.6A.s3.instrument_base
        license: null
        role: Instrument and payment-credential universe for Layer-3 / Segment 6A. One row
          per instrument per (manifest_fingerprint, seed), including owner account, owner
          party/merchant (if modelled), instrument type, scheme/network, masked identifier,
          expiry, and static flags.
        dependencies:
        - mlr.6A.validation.s0_gate_receipt
        - mlr.6A.validation.sealed_inputs
        - mlr.6A.s1.party_base
        - mlr.6A.s2.account_base
        - mlr.6A.prior.instrument_mix
        - mlr.6A.prior.instrument_per_account
        - mlr.6A.taxonomy.instrument_types
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6A.yaml#/s3/instrument_base
        cross_layer: true
        notes: retention_class=core_entity; pii_class=synthetic_customer
      - name: s3_account_instrument_links_6A
        path: data/layer3/6A/s3_account_instrument_links_6A/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/s3_account_instrument_links_6A.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}'
        digest: null
        manifest_key: mlr.6A.s3.account_instrument_links
        license: null
        role: Per-account instrument linkage surface for Layer-3 / Segment 6A. Derived from
          s3_instrument_base_6A and s2_account_base_6A; provides either per-instrument or
          aggregated per-account, per-instrument-type views of instrument ownership.
        dependencies:
        - mlr.6A.s2.account_base
        - mlr.6A.s3.instrument_base
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6A.yaml#/s3/account_instrument_links
        cross_layer: true
        notes: retention_class=core_entity; pii_class=synthetic_customer
      - name: s4_device_base_6A
        path: data/layer3/6A/s4_device_base_6A/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/s4_device_base_6A.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}'
        digest: null
        manifest_key: mlr.6A.s4.device_base
        license: null
        role: Device universe for Layer-3 / Segment 6A. One row per device per (manifest_fingerprint,
          seed), with device classification, primary owner context and static device risk/capability
          flags.
        dependencies:
        - mlr.6A.validation.s0_gate_receipt
        - mlr.6A.validation.sealed_inputs
        - mlr.6A.s1.party_base
        - mlr.6A.prior.device_counts
        - mlr.6A.taxonomy.devices
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6A.yaml#/s4/device_base
        cross_layer: true
        notes: retention_class=core_entity; pii_class=synthetic_customer
      - name: s4_ip_base_6A
        path: data/layer3/6A/s4_ip_base_6A/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/s4_ip_base_6A.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}'
        digest: null
        manifest_key: mlr.6A.s4.ip_base
        license: null
        role: IP / network endpoint universe for Layer-3 / Segment 6A. One row per IP/endpoint
          per (manifest_fingerprint, seed), including masked representation, ip_type, asn_class,
          geo hints and static risk tags.
        dependencies:
        - mlr.6A.validation.s0_gate_receipt
        - mlr.6A.validation.sealed_inputs
        - mlr.6A.prior.ip_counts
        - mlr.6A.taxonomy.ips
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6A.yaml#/s4/ip_base
        cross_layer: true
        notes: retention_class=core_entity; pii_class=synthetic_customer
      - name: s4_device_links_6A
        path: data/layer3/6A/s4_device_links_6A/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/s4_device_links_6A.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}'
        digest: null
        manifest_key: mlr.6A.s4.device_links
        license: null
        role: Device-to-entity edges for Layer-3 / Segment 6A. Links each device_id to one
          or more parties/accounts/instruments/merchants with a link_role describing the
          semantics.
        dependencies:
        - mlr.6A.s4.device_base
        - mlr.6A.s1.party_base
        - mlr.6A.s2.account_base
        - mlr.6A.s3.instrument_base
        - mlr.6A.policy.graph_linkage_rules
        - mlr.6A.policy.device_linkage_rules
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6A.yaml#/s4/device_links
        cross_layer: true
        notes: retention_class=core_entity; pii_class=synthetic_customer
      - name: s4_ip_links_6A
        path: data/layer3/6A/s4_ip_links_6A/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/s4_ip_links_6A.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}'
        digest: null
        manifest_key: mlr.6A.s4.ip_links
        license: null
        role: IP-to-device/entity edges for Layer-3 / Segment 6A. Links each ip_id to one
          or more devices/parties/merchants with a link_role describing the semantics.
        dependencies:
        - mlr.6A.s4.ip_base
        - mlr.6A.s4.device_base
        - mlr.6A.s1.party_base
        - mlr.6A.policy.graph_linkage_rules
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6A.yaml#/s4/ip_links
        cross_layer: true
        notes: retention_class=core_entity; pii_class=synthetic_customer
      - name: s5_party_fraud_roles_6A
        path: data/layer3/6A/s5_party_fraud_roles_6A/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/s5_party_fraud_roles_6A.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}'
        digest: null
        manifest_key: mlr.6A.s5.party_fraud_roles
        license: null
        role: Static fraud posture for parties in Layer-3 / Segment 6A. One row per party
          per (manifest_fingerprint, seed).
        dependencies:
        - mlr.6A.validation.s0_gate_receipt
        - mlr.6A.validation.sealed_inputs
        - mlr.6A.s1.party_base
        - mlr.6A.s5.prior.party_roles
        - mlr.6A.taxonomy.fraud_roles
        - mlr.6A.policy.validation_policy
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6A.yaml#/s5/party_fraud_roles
        cross_layer: true
        notes: retention_class=core_entity; pii_class=synthetic_customer
      - name: s5_account_fraud_roles_6A
        path: data/layer3/6A/s5_account_fraud_roles_6A/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/s5_account_fraud_roles_6A.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}'
        digest: null
        manifest_key: mlr.6A.s5.account_fraud_roles
        license: null
        role: Static fraud posture for accounts in Layer-3 / Segment 6A. One row per account
          per (manifest_fingerprint, seed).
        dependencies:
        - mlr.6A.validation.s0_gate_receipt
        - mlr.6A.validation.sealed_inputs
        - mlr.6A.s2.account_base
        - mlr.6A.s1.party_base
        - mlr.6A.s5.prior.account_roles
        - mlr.6A.taxonomy.fraud_roles
        - mlr.6A.policy.validation_policy
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6A.yaml#/s5/account_fraud_roles
        cross_layer: true
        notes: retention_class=core_entity; pii_class=synthetic_customer
      - name: s5_merchant_fraud_roles_6A
        path: data/layer3/6A/s5_merchant_fraud_roles_6A/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/s5_merchant_fraud_roles_6A.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}'
        digest: null
        manifest_key: mlr.6A.s5.merchant_fraud_roles
        license: null
        role: Static fraud posture for merchants in Layer-3 / Segment 6A. One row per merchant,
          keyed by merchant_id.
        dependencies:
        - mlr.6A.validation.s0_gate_receipt
        - mlr.6A.validation.sealed_inputs
        - mlr.1A.output.outlet_catalogue
        - mlr.6A.s5.prior.merchant_roles
        - mlr.6A.taxonomy.fraud_roles
        - mlr.6A.policy.validation_policy
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6A.yaml#/s5/merchant_fraud_roles
        cross_layer: true
        notes: retention_class=core_entity; pii_class=synthetic_customer
      - name: s5_device_fraud_roles_6A
        path: data/layer3/6A/s5_device_fraud_roles_6A/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/s5_device_fraud_roles_6A.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}'
        digest: null
        manifest_key: mlr.6A.s5.device_fraud_roles
        license: null
        role: Static fraud posture for devices in Layer-3 / Segment 6A. One row per device
          per (manifest_fingerprint, seed).
        dependencies:
        - mlr.6A.validation.s0_gate_receipt
        - mlr.6A.validation.sealed_inputs
        - mlr.6A.s4.device_base
        - mlr.6A.s5.prior.device_roles
        - mlr.6A.taxonomy.fraud_roles
        - mlr.6A.policy.validation_policy
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6A.yaml#/s5/device_fraud_roles
        cross_layer: true
        notes: retention_class=core_entity; pii_class=synthetic_customer
      - name: s5_ip_fraud_roles_6A
        path: data/layer3/6A/s5_ip_fraud_roles_6A/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/s5_ip_fraud_roles_6A.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}'
        digest: null
        manifest_key: mlr.6A.s5.ip_fraud_roles
        license: null
        role: Static fraud posture for IPs/endpoints in Layer-3 / Segment 6A. One row per
          ip_id per (manifest_fingerprint, seed).
        dependencies:
        - mlr.6A.validation.s0_gate_receipt
        - mlr.6A.validation.sealed_inputs
        - mlr.6A.s4.ip_base
        - mlr.6A.s5.prior.ip_roles
        - mlr.6A.taxonomy.fraud_roles
        - mlr.6A.policy.validation_policy
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6A.yaml#/s5/ip_fraud_roles
        cross_layer: true
        notes: retention_class=core_entity; pii_class=synthetic_customer
      # --- S5 validation & HashGate ---

      # --- S0 sealed inputs (policies & configs) ---

      - name: attachment_policy_6B
        path: config/layer3/6B/attachment_policy_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.attachment_policy
        license: Proprietary-Internal
        role: Attachment policy for entity selection and linking (S1).
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/attachment_policy_6B
        cross_layer: false
        notes: null
      - name: sessionisation_policy_6B
        path: config/layer3/6B/sessionisation_policy_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.sessionisation_policy
        license: Proprietary-Internal
        role: Session key and inactivity gap policy (S1).
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/sessionisation_policy_6B
        cross_layer: false
        notes: null
      - name: behaviour_config_6B
        path: config/layer3/6B/behaviour_config_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.behaviour_config
        license: Proprietary-Internal
        role: Optional feature flags and guardrails for 6B behaviour.
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/behaviour_config_6B
        cross_layer: false
        notes: null
      - name: behaviour_prior_pack_6B
        path: config/layer3/6B/behaviour_prior_pack_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.behaviour_prior_pack
        license: Proprietary-Internal
        role: Behaviour priors pack for 6B (distributions/parameters used by S1-S4; sealed
          by S0).
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/behaviour_prior_pack_6B
        cross_layer: false
        notes: null
      - name: rng_profile_layer3
        path: config/layer3/6B/rng_profile_layer3.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.rng_profile_layer3
        license: Proprietary-Internal
        role: Layer-3 RNG profile (Philox parameters and invariants).
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/rng_profile_layer3
        cross_layer: false
        notes: null
      - name: rng_policy_6B
        path: config/layer3/6B/rng_policy_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.rng_policy
        license: Proprietary-Internal
        role: RNG family mapping for S1 decision families.
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/rng_policy_6B
        cross_layer: false
        notes: null
      - name: flow_shape_policy_6B
        path: config/layer3/6B/flow_shape_policy_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.flow_shape_policy
        license: Proprietary-Internal
        role: Flow shape policy for S2.
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/flow_shape_policy_6B
        cross_layer: false
        notes: null
      - name: amount_model_6B
        path: config/layer3/6B/amount_model_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.amount_model
        license: Proprietary-Internal
        role: Amount model policy for S2.
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/amount_model_6B
        cross_layer: false
        notes: null
      - name: timing_policy_6B
        path: config/layer3/6B/timing_policy_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.timing_policy
        license: Proprietary-Internal
        role: Timing policy for S2.
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/timing_policy_6B
        cross_layer: false
        notes: null
      - name: flow_rng_policy_6B
        path: config/layer3/6B/flow_rng_policy_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.flow_rng_policy
        license: Proprietary-Internal
        role: RNG policy for S2 flows.
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/flow_rng_policy_6B
        cross_layer: false
        notes: null
      - name: fraud_campaign_catalogue_config_6B
        path: config/layer3/6B/fraud_campaign_catalogue_config_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.fraud_campaign_catalogue_config
        license: Proprietary-Internal
        role: Fraud campaign catalogue configuration for S3.
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/fraud_campaign_catalogue_config_6B
        cross_layer: false
        notes: null
      - name: fraud_overlay_policy_6B
        path: config/layer3/6B/fraud_overlay_policy_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.fraud_overlay_policy
        license: Proprietary-Internal
        role: Fraud overlay policy for S3.
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/fraud_overlay_policy_6B
        cross_layer: false
        notes: null
      - name: fraud_rng_policy_6B
        path: config/layer3/6B/fraud_rng_policy_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.fraud_rng_policy
        license: Proprietary-Internal
        role: RNG policy for S3 fraud overlays.
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/fraud_rng_policy_6B
        cross_layer: false
        notes: null
      - name: truth_labelling_policy_6B
        path: config/layer3/6B/truth_labelling_policy_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.truth_labelling_policy
        license: Proprietary-Internal
        role: Truth labelling policy for S4.
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/truth_labelling_policy_6B
        cross_layer: false
        notes: null
      - name: bank_view_policy_6B
        path: config/layer3/6B/bank_view_policy_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.bank_view_policy
        license: Proprietary-Internal
        role: Bank-view policy for S4.
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/bank_view_policy_6B
        cross_layer: false
        notes: null
      - name: delay_models_6B
        path: config/layer3/6B/delay_models_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.delay_models
        license: Proprietary-Internal
        role: Delay models for S4.
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/delay_models_6B
        cross_layer: false
        notes: null
      - name: case_policy_6B
        path: config/layer3/6B/case_policy_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.case_policy
        license: Proprietary-Internal
        role: Case policy for S4.
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/case_policy_6B
        cross_layer: false
        notes: null
      - name: label_rng_policy_6B
        path: config/layer3/6B/label_rng_policy_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.label_rng_policy
        license: Proprietary-Internal
        role: RNG policy for S4 labelling.
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/label_rng_policy_6B
        cross_layer: false
        notes: null
      - name: segment_validation_policy_6B
        path: config/layer3/6B/segment_validation_policy_6B.yaml
        type: config
        category: policy
        semver: 1.0.0
        version: v1
        digest: null
        manifest_key: mlr.6B.policy.segment_validation_policy
        license: Proprietary-Internal
        role: Segment validation policy for S5.
        dependencies: []
        source: internal
        owner:
          owner_team: data-governance
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/policy/segment_validation_policy_6B
        cross_layer: false
        notes: null

      # --- RNG logs & event tables ---
      - name: rng_audit_log
        path: logs/layer3/6B/rng/audit/seed={seed}/parameter_hash={parameter_hash}/run_id={run_id}/rng_audit_log.jsonl
        type: log
        category: rng_core
        semver: 1.0.0
        version: '{run_id}'
        digest: null
        manifest_key: mlr.rng.core.6B.audit
        license: null
        role: Run-scoped RNG audit envelope for 6B runs.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/rng/core/rng_audit_log
        cross_layer: false
        notes: null
      - name: rng_trace_log
        path: logs/layer3/6B/rng/trace/seed={seed}/parameter_hash={parameter_hash}/run_id={run_id}/rng_trace_log.jsonl
        type: log
        category: rng_core
        semver: 1.0.0
        version: '{run_id}'
        digest: null
        manifest_key: mlr.rng.core.6B.trace
        license: null
        role: Aggregated RNG trace log for 6B runs (per event family draws/blocks).
        dependencies:
        - mlr.rng.core.6B.audit
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/rng/core/rng_trace_log
        cross_layer: false
        notes: null
      - name: rng_event_flow_anchor_baseline
        path: logs/layer3/6B/rng/events/flow_anchor_baseline/seed={seed}/parameter_hash={parameter_hash}/run_id={run_id}/part-*.jsonl
        type: log
        category: rng_event
        semver: 1.0.0
        version: '{run_id}'
        digest: null
        manifest_key: mlr.rng.events.6B.flow_anchor_baseline
        license: null
        role: RNG events for 6B.S2 baseline flow anchor draws.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/rng/events/flow_anchor_baseline
        cross_layer: false
        notes: null
      - name: rng_event_event_stream_baseline
        path: logs/layer3/6B/rng/events/event_stream_baseline/seed={seed}/parameter_hash={parameter_hash}/run_id={run_id}/part-*.jsonl
        type: log
        category: rng_event
        semver: 1.0.0
        version: '{run_id}'
        digest: null
        manifest_key: mlr.rng.events.6B.event_stream_baseline
        license: null
        role: RNG events for 6B.S2 baseline event stream draws.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/rng/events/event_stream_baseline
        cross_layer: false
        notes: null
      - name: rng_event_fraud_campaign_pick
        path: logs/layer3/6B/rng/events/fraud_campaign_pick/seed={seed}/parameter_hash={parameter_hash}/run_id={run_id}/part-*.jsonl
        type: log
        category: rng_event
        semver: 1.0.0
        version: '{run_id}'
        digest: null
        manifest_key: mlr.rng.events.6B.fraud_campaign_pick
        license: null
        role: RNG events for 6B.S3 fraud campaign selection.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/rng/events/fraud_campaign_pick
        cross_layer: false
        notes: null
      - name: rng_event_fraud_overlay_apply
        path: logs/layer3/6B/rng/events/fraud_overlay_apply/seed={seed}/parameter_hash={parameter_hash}/run_id={run_id}/part-*.jsonl
        type: log
        category: rng_event
        semver: 1.0.0
        version: '{run_id}'
        digest: null
        manifest_key: mlr.rng.events.6B.fraud_overlay_apply
        license: null
        role: RNG events for 6B.S3 fraud overlay application.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/rng/events/fraud_overlay_apply
        cross_layer: false
        notes: null
      - name: rng_event_truth_label
        path: logs/layer3/6B/rng/events/truth_label/seed={seed}/parameter_hash={parameter_hash}/run_id={run_id}/part-*.jsonl
        type: log
        category: rng_event
        semver: 1.0.0
        version: '{run_id}'
        digest: null
        manifest_key: mlr.rng.events.6B.truth_label
        license: null
        role: RNG events for 6B.S4 truth-label sampling.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/rng/events/truth_label
        cross_layer: false
        notes: null
      - name: rng_event_bank_view_label
        path: logs/layer3/6B/rng/events/bank_view_label/seed={seed}/parameter_hash={parameter_hash}/run_id={run_id}/part-*.jsonl
        type: log
        category: rng_event
        semver: 1.0.0
        version: '{run_id}'
        digest: null
        manifest_key: mlr.rng.events.6B.bank_view_label
        license: null
        role: RNG events for 6B.S4 bank-view label sampling.
        dependencies: []
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/rng/events/bank_view_label
        cross_layer: false
        notes: null
      # --- S1 ---

      - name: s1_arrival_entities_6B
        path: data/layer3/6B/s1_arrival_entities_6B/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/scenario_id={scenario_id}/part-*.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}.{scenario_id}'
        digest: null
        manifest_key: mlr.6B.s1.arrival_entities
        license: null
        role: Arrival events from 5B enriched with entity attachments and session identifiers
          for Layer-3 behaviour; one row per arrival.
        dependencies:
        - mlr.6B.validation.sealed_inputs
        - mlr.6B.validation.s0_gate_receipt
        - mlr.5B.egress.arrival_events
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/s1/arrival_entities_6B
        cross_layer: false
        notes: null
      - name: s1_session_index_6B
        path: data/layer3/6B/s1_session_index_6B/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/scenario_id={scenario_id}/part-*.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}.{scenario_id}'
        digest: null
        manifest_key: mlr.6B.s1.session_index
        license: null
        role: Session index for 6B arrivals; one row per session with party/device/IP relationships
          and anchor metadata.
        dependencies:
        - mlr.6B.s1.arrival_entities
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/s1/session_index_6B
        cross_layer: false
        notes: null
      # --- S2 ---

      - name: s2_flow_anchor_baseline_6B
        path: data/layer3/6B/s2_flow_anchor_baseline_6B/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/scenario_id={scenario_id}/part-*.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}.{scenario_id}'
        digest: null
        manifest_key: mlr.6B.s2.flow_anchor_baseline
        license: null
        role: Baseline flow anchors (all-legit) for 6B. One row per flow_id per (seed, manifest_fingerprint,
          scenario_id).
        dependencies:
        - mlr.6B.s1.arrival_entities
        - mlr.6B.s1.session_index
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/s2/flow_anchor_baseline_6B
        cross_layer: false
        notes: null
      - name: s2_event_stream_baseline_6B
        path: data/layer3/6B/s2_event_stream_baseline_6B/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/scenario_id={scenario_id}/part-*.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}.{scenario_id}'
        digest: null
        manifest_key: mlr.6B.s2.event_stream_baseline
        license: null
        role: Baseline event stream for each flow (auth/clearing/refund/etc.).
        dependencies:
        - mlr.6B.s2.flow_anchor_baseline
        - mlr.1A.cache.merchant_currency
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/s2/event_stream_baseline_6B
        cross_layer: false
        notes: null
      # --- S3 ---

      - name: s3_campaign_catalogue_6B
        path: data/layer3/6B/s3_campaign_catalogue_6B/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/scenario_id={scenario_id}/s3_campaign_catalogue_6B.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}.{scenario_id}'
        digest: null
        manifest_key: mlr.6B.s3.campaign_catalogue
        license: null
        role: Catalogue of realised fraud/abuse campaigns with campaign_id, fraud_type,
          parameters and the flows affected.
        dependencies:
        - mlr.6B.s2.flow_anchor_baseline
        - mlr.6B.s2.event_stream_baseline
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/s3/campaign_catalogue_6B
        cross_layer: false
        notes: null
      - name: s3_flow_anchor_with_fraud_6B
        path: data/layer3/6B/s3_flow_anchor_with_fraud_6B/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/scenario_id={scenario_id}/part-*.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}.{scenario_id}'
        digest: null
        manifest_key: mlr.6B.s3.flow_anchor_with_fraud
        license: null
        role: Flow anchors after fraud overlays and campaign adjustments are applied.
        dependencies:
        - mlr.6B.s2.flow_anchor_baseline
        - mlr.6B.s3.campaign_catalogue
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/s3/flow_anchor_with_fraud_6B
        cross_layer: false
        notes: null
      - name: s3_event_stream_with_fraud_6B
        path: data/layer3/6B/s3_event_stream_with_fraud_6B/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/scenario_id={scenario_id}/part-*.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}.{scenario_id}'
        digest: null
        manifest_key: mlr.6B.s3.event_stream_with_fraud
        license: null
        role: Event stream after fraud overlays. Contains synthetic fraud behaviours for
          training/labelling flows.
        dependencies:
        - mlr.6B.s2.event_stream_baseline
        - mlr.6B.s3.flow_anchor_with_fraud
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/s3/event_stream_with_fraud_6B
        cross_layer: false
        notes: null
      # --- S4 ---

      - name: s4_flow_truth_labels_6B
        path: data/layer3/6B/s4_flow_truth_labels_6B/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/scenario_id={scenario_id}/part-*.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}.{scenario_id}'
        digest: null
        manifest_key: mlr.6B.s4.flow_truth_labels
        license: null
        role: Flow-level ground truth labels used by 4A/4B and model training.
        dependencies:
        - mlr.6B.s3.flow_anchor_with_fraud
        - mlr.6B.s3.event_stream_with_fraud
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/s4/flow_truth_labels_6B
        cross_layer: true
        notes: null
      - name: s4_flow_bank_view_6B
        path: data/layer3/6B/s4_flow_bank_view_6B/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/scenario_id={scenario_id}/part-*.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}.{scenario_id}'
        digest: null
        manifest_key: mlr.6B.s4.flow_bank_view
        license: null
        role: Bank-view classification of each flow (what the institution sees / would act
          on).
        dependencies:
        - mlr.6B.s3.flow_anchor_with_fraud
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/s4/flow_bank_view_6B
        cross_layer: true
        notes: null
      - name: s4_event_labels_6B
        path: data/layer3/6B/s4_event_labels_6B/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/scenario_id={scenario_id}/part-*.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}.{scenario_id}'
        digest: null
        manifest_key: mlr.6B.s4.event_labels
        license: null
        role: Event-level truth and bank-view labels keyed to s3_event_stream_with_fraud_6B.
        dependencies:
        - mlr.6B.s3.event_stream_with_fraud
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/s4/event_labels_6B
        cross_layer: true
        notes: null
      - name: s4_case_timeline_6B
        path: data/layer3/6B/s4_case_timeline_6B/seed={seed}/parameter_hash={parameter_hash}/manifest_fingerprint={manifest_fingerprint}/scenario_id={scenario_id}/part-*.parquet
        type: dataset
        category: output
        semver: 1.0.0
        version: '{seed}.{manifest_fingerprint}.{parameter_hash}.{scenario_id}'
        digest: null
        manifest_key: mlr.6B.s4.case_timeline
        license: null
        role: Case timeline events for flows promoted to manual review or automated cases.
        dependencies:
        - mlr.6B.s4.flow_truth_labels
        - mlr.6B.s4.flow_bank_view
        - mlr.6B.s4.event_labels
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.6B.yaml#/s4/case_timeline_6B
        cross_layer: true
        notes: null
      # --- S5 ---

      - name: s5_validation_report_6B
        path: data/layer3/6B/validation/manifest_fingerprint={manifest_fingerprint}/s5_validation_report_6B.json
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.6B.validation.report
        license: null
        role: Segment 6B world-level validation report; one JSON document summarising the
          results of S5 checks across S1-S4 artefacts.
        dependencies:
        - mlr.6B.s4.flow_truth_labels
        - mlr.6B.s4.flow_bank_view
        - mlr.6B.s4.event_labels
        - mlr.6B.s4.case_timeline
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/validation/6B/s5_validation_report
        cross_layer: true
        notes: null
      - name: s5_issue_table_6B
        path: data/layer3/6B/validation/manifest_fingerprint={manifest_fingerprint}/s5_issue_table_6B.parquet
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.6B.validation.issue_table
        license: null
        role: Structured list of validation issues for 6B (one row per failing/warning check).
        dependencies:
        - mlr.6B.validation.report
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/validation/6B/s5_issue_table
        cross_layer: true
        notes: null
      - name: validation_bundle_6B
        path: data/layer3/6B/validation/manifest_fingerprint={manifest_fingerprint}/
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.6B.validation.bundle
        license: null
        role: World-level validation bundle for Segment 6B; directory of validation artefacts
          plus index.json and _passed.flag.
        dependencies:
        - mlr.6B.validation.report
        - mlr.6B.validation.issue_table
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: null
        cross_layer: true
        notes: null
      - name: validation_bundle_index_6B
        path: data/layer3/6B/validation/manifest_fingerprint={manifest_fingerprint}/index.json
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.6B.validation.bundle_index
        license: null
        role: Index for the Segment 6B validation bundle, listing evidence files and their SHA-256 digests.
        dependencies:
        - mlr.6B.validation.bundle
        - mlr.6B.validation.s0_gate_receipt
        - mlr.6B.validation.sealed_inputs
        - mlr.6B.validation.report
        - mlr.6B.validation.issue_table
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/validation/6B/validation_bundle_index_6B
        cross_layer: true
        notes: null
      - name: validation_passed_flag_6B
        path: data/layer3/6B/validation/manifest_fingerprint={manifest_fingerprint}/_passed.flag
        type: dataset
        category: validation
        semver: 1.0.0
        version: '{manifest_fingerprint}'
        digest: null
        manifest_key: mlr.6B.validation.passed
        license: null
        role: Segment 6B HashGate flag; encodes SHA-256 digest over the 6B validation bundle.
        dependencies:
        - mlr.6B.validation.bundle
        - mlr.6B.validation.bundle_index
        source: internal
        owner:
          owner_team: null
        last_updated: '{iso8601_timestamp}'
        environment:
        - runtime
        schema: schemas.layer3.yaml#/validation/6B/passed_flag_6B
        cross_layer: true
        notes: null
