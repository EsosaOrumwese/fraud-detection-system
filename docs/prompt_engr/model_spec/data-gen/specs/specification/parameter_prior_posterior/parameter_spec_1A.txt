<<<PP‑FIX id=1>>
Name: Hurdle Bernoulli uniform deviate
Symbol: $u$
Scope: merchant_location
---------------------------------

PRIOR:
type: Uniform
hyperparameters:
  min: 0
  max: 1
units: dimensionless
default_policy: abort on RNG error
justification: Provides a fair deviate for deciding single‑ vs. multi‑site branching.

CALIBRATION_RECIPE:
input_path: N/A
objective: Not applicable
algorithm: Not applicable
random_seed: N/A
convergence_tol: N/A
script_digest: N/A

INTERFACE_CONSUMER:
artefact_name: multi_site_sampler.py
function: draw_hurdle_deviate
description: Consumes the uniform deviate to branch the generator into single or multiple sites.

POSTERIOR_VALIDATION:
metric: Kolmogorov–Smirnov statistic
acceptance_range: [0.0, 0.05]
sample_size: 10000

PROVENANCE_TAG:
artefact_name: rng_policy.yml
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
Uniform random draw for the hurdle decision in site‑count sampling.

TEST_PATHWAY:
test: property‑based CI test for uniform sampling
input: sample_u.log
assert: KS statistic < 0.05 for 10 000 samples

Confidence=HIGH
<<<END PP‑FIX>>>

<<<PP‑FIX id=2>>
Name: Hurdle logistic coefficients
Symbol: $\beta_0,\beta_{\mathrm{mcc}},\beta_{\mathrm{channel}},\beta_{\mathrm{dev}}$
Scope: merchant_location
---------------------------------

PRIOR:
type: Loaded constant
hyperparameters:
  coefficients_file: config/hurdle_coefficients.yaml  # contains numeric values for intercept, MCC and channel effects, dev buckets
units: log‑odds
default_policy: abort on missing file
justification: Fitted via logistic regression to historical merchant site counts.

CALIBRATION_RECIPE:
input_path: s3://data/merchant/site_counts.csv  # raw counts by merchant, MCC, channel, dev bucket
objective: Maximum Likelihood Estimation
algorithm: Iteratively Reweighted Least Squares
random_seed: 42
convergence_tol: 1e‑8
script_digest: sha256:<to‑be‑populated>  # build/scripts/calibrate_hurdle_glm.py

INTERFACE_CONSUMER:
artefact_name: config/hurdle_coefficients.yaml
function: load_hurdle_coefficients
description: Provides **both** (a) the β vector for the hurdle-logistic branch and (b) the α vector for the NB-mean link (μ).  All coefficients sit in the same YAML so their provenance hash is single-point.

POSTERIOR_VALIDATION:
metric: stationarity of β across nightly builds
acceptance_range: [−1e‑4, 1e‑4]
sample_size: 2 builds

PROVENANCE_TAG:
artefact_name: config/hurdle_coefficients.yaml
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
Weights mapping merchant features to multi‑site probability π.

TEST_PATHWAY:
test: CI stationarity script
input: consecutive_coefficient_stats.json
assert: max deviation per coefficient < 1e‑4

Confidence=HIGH
<<<END PP‑FIX>>>

<<<PP‑FIX id=3>>
# Name: NB mean link coefficients
# NB-mean block removed – coefficients now co-located inside
# config/hurdle_coefficients.yaml (see change above).
<<<END PP‑FIX>>>

<<<PP‑FIX id=4>>
Name: NB dispersion link coefficients
Symbol: $\delta_0,\delta_{\mathrm{mcc}},\delta_{\mathrm{channel}},\eta$
Scope: merchant_location
---------------------------------

PRIOR:
type: Loaded constant
hyperparameters:
  coefficients_file: config/nb_dispersion_coefficients.yaml
units: log (count)
default_policy: abort on missing file
justification: GLM estimates for the dispersion φ in the NB model.

CALIBRATION_RECIPE:
input_path: s3://data/merchant/site_counts.csv
objective: Maximum Likelihood Estimation
algorithm: Iteratively Reweighted Least Squares
random_seed: 42
convergence_tol: 1e‑8
script_digest: sha256:<to‑be‑populated>  # build/scripts/calibrate_nb_dispersion.py

INTERFACE_CONSUMER:
artefact_name: config/nb_dispersion_coefficients.yaml
function: load_nb_dispersion_coefficients
description: Supplies dispersion‑link weights for NB sampling.

POSTERIOR_VALIDATION:
metric: 99th‑percentile NB rejection count
acceptance_range: [0, 3]
sample_size: 1000

PROVENANCE_TAG:
artefact_name: config/nb_dispersion_coefficients.yaml
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
GLM coefficients for dispersion in the NB site‑count model.

TEST_PATHWAY:
test: CI NB p99 monitor
input: nb_dispersion_stats.log
assert: p99 rejection ≤ 3

Confidence=HIGH
<<<END PP‑FIX>>>

<<<PP‑FIX id=5>>
Name: Poisson–Gamma mixture Gamma shape/scale
Symbol: $G\sim\mathrm{Gamma}(r=\phi,\;\mathrm{scale}=\mu/\phi)$
Scope: merchant_location
---------------------------------

PRIOR:
type: Derived
hyperparameters:
  shape: φ (from NB dispersion link)
  scale: μ/φ (from NB mean link)
units: count
default_policy: abort on RNG error
justification: Latent Gamma for Poisson–Gamma NB sampling.

CALIBRATION_RECIPE:
input_path: N/A
objective: Not applicable
algorithm: Not applicable
random_seed: N/A
convergence_tol: N/A
script_digest: N/A

INTERFACE_CONSUMER:
artefact_name: multi_site_count.py
function: sample_nb_gamma_component
description: Draws the Gamma latent before Poisson sampling.

POSTERIOR_VALIDATION:
metric: KS distance to theoretical Gamma
acceptance_range: [0.0, 0.05]
sample_size: 10000

PROVENANCE_TAG:
artefact_name: config/nb_dispersion_coefficients.yaml
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
Gamma draw for the Poisson–Gamma mixture in NB.

TEST_PATHWAY:
test: CI property-based Gamma test
input: gamma_samples.log
assert: KS statistic < 0.05

Confidence=HIGH
<<<END PP‑FIX>>>

<<<PP‑FIX id=6>>
Name: Poisson component of NB mixture
Symbol: $N\mid G\sim\mathrm{Poisson}(G)$
Scope: merchant_location
---------------------------------

PRIOR:
type: Derived
hyperparameters:
  rate: G (latent Gamma draw)
units: count
default_policy: abort on RNG error
justification: Final Poisson draw in Poisson–Gamma NB sampler.

CALIBRATION_RECIPE:
input_path: N/A
objective: Not applicable
algorithm: Not applicable
random_seed: N/A
convergence_tol: N/A
script_digest: N/A

INTERFACE_CONSUMER:
artefact_name: multi_site_count.py
function: sample_nb_poisson_component
description: Produces the integer site count from the Gamma rate.

POSTERIOR_VALIDATION:
metric: KS distance to theoretical Poisson
acceptance_range: [0.0, 0.05]
sample_size: 10000

PROVENANCE_TAG:
artefact_name: config/nb_dispersion_coefficients.yaml
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
Poisson draw for NB site‑count mixture.

TEST_PATHWAY:
test: CI property-based Poisson test
input: poisson_samples.log
assert: KS statistic < 0.05

Confidence=HIGH
<<<END PP‑FIX>>>

<<<PP‑FIX id=7>>
Name: Zero‑truncated Poisson for foreign‑country count
Symbol: $K\sim\mathrm{ZTPoisson}(\lambda_{\mathrm{extra}})$
Scope: merchant_location
---------------------------------

PRIOR:
type: Zero‑truncated Poisson
hyperparameters:
  rate: λ_extra (from cross‑border regression)
units: count
default_policy: abort on cap exceed
justification: Ensures merchants enter at least one foreign market.

CALIBRATION_RECIPE:
input_path: s3://data/crossborder/merchant_counts.csv
objective: Maximum Likelihood Estimation
algorithm: Rejection sampling setup
random_seed: 42
convergence_tol: N/A
script_digest: sha256:<to‑be‑populated>  # build/scripts/calibrate_ztp.py

INTERFACE_CONSUMER:
artefact_name: crossborder_allocation.py
function: sample_ztpoisson
description: Draws number of foreign markets via truncated Poisson.

POSTERIOR_VALIDATION:
metric: mean rejection rate
acceptance_range: [0.0, 0.05]
sample_size: 1000

PROVENANCE_TAG:
artefact_name: config/crossborder_hyperparams.yaml
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
ZTPoisson draw for cross-border site counts.

TEST_PATHWAY:
test: CI ZTP rejection monitor
input: ztp_rejection_stats.log
assert: mean rejection < 0.05 and p99.9 < 3

Confidence=HIGH
<<<END PP‑FIX>>>

<<<PP‑FIX id=8>>
Name: Cross‑border Poisson mean intercept & slope
Symbol: $\theta_0,\theta_1$
Scope: merchant_location
---------------------------------

PRIOR:
type: Loaded constant
hyperparameters:
  coefficients_file: config/crossborder_hyperparams.yaml
units: dimensionless
default_policy: abort on missing file
justification: Defines λ_extra via log‑linear regression on N.

CALIBRATION_RECIPE:
input_path: s3://data/crossborder/merchant_counts.csv
objective: Maximum Likelihood Estimation
algorithm: Ordinary Least Squares
random_seed: 42
convergence_tol: 1e‑6
script_digest: sha256:<to‑be‑populated>  # build/scripts/calibrate_crossborder.py

INTERFACE_CONSUMER:
artefact_name: config/crossborder_hyperparams.yaml
function: load_crossborder_coefficients
description: Supplies θ₀ and θ₁ for λ_extra computation.

POSTERIOR_VALIDATION:
metric: Wald p‑value for θ₁<1
acceptance_range: [0, 1e‑5]
sample_size: 1

PROVENANCE_TAG:
artefact_name: config/crossborder_hyperparams.yaml
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
Regression parameters for extra‑market Poisson mean.

TEST_PATHWAY:
test: CI regression significance test
input: crossborder_stats.json
assert: p‑value < 1×10⁻⁵

Confidence=HIGH
<<<END PP‑FIX>>>

<<<PP‑FIX id=9>>
Name: Intra‑currency Dirichlet smoothing constant
Symbol: $\alpha$
Scope: merchant_location
---------------------------------

PRIOR:
type: Fixed constant
hyperparameters:
  value: 0.5
units: dimensionless
default_policy: use prior
justification: Prevents zero weights for low‑count currency allocations.

CALIBRATION_RECIPE:
input_path: N/A
objective: Not applicable
algorithm: Not applicable
random_seed: N/A
convergence_tol: N/A
script_digest: N/A

INTERFACE_CONSUMER:
artefact_name: currency_expansion.py
function: apply_dirichlet_smoothing
description: Adds α to each count before normalization when count<30.

POSTERIOR_VALIDATION:
metric: allocation error
acceptance_range: [0, 1]
sample_size: all merchants

PROVENANCE_TAG:
artefact_name: inline code in currency_expansion.py
sha256: N/A

SHORT_DESCRIPTION:
Additive smoothing constant for Dirichlet allocations.

TEST_PATHWAY:
test: CI allocation check
input: currency_allocation.log
assert: no zero weights for any destination

Confidence=HIGH
<<<END PP‑FIX>>>

<<<PP‑FIX id=10>>
Name: Dirichlet concentration vector
Symbol: $\alpha_i$
Scope: merchant_location
---------------------------------

PRIOR:
type: Loaded constant
hyperparameters:
  vector_file: config/crossborder_hyperparams.yaml
units: dimensionless
default_policy: use prior
justification: Vector of per‑country α parameters for Dirichlet draws.

CALIBRATION_RECIPE:
input_path: s3://data/crossborder/merchant_counts.csv
objective: Method of Moments
algorithm: Method of Moments
random_seed: 42
convergence_tol: 1e‑6
script_digest: sha256:<to‑be‑populated>  # build/scripts/calibrate_dirichlet_alpha.py

INTERFACE_CONSUMER:
artefact_name: config/crossborder_hyperparams.yaml
function: load_dirichlet_alpha_vector
description: Supplies α-vector for country‑split draws.

POSTERIOR_VALIDATION:
metric: allocation sum error
acceptance_range: [0.0, 1.0]
sample_size: all merchants

PROVENANCE_TAG:
artefact_name: config/crossborder_hyperparams.yaml
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
Concentration parameters for Dirichlet-based country allocation.

TEST_PATHWAY:
test: CI Dirichlet allocation script
input: allocation_errors.log
assert: sum(|observed−expected|) < tolerance

Confidence=HIGH
<<<END PP‑FIX>>>

<<<PP‑FIX id=11>>
Name: Largest‑remainder rounding precision
Symbol: residual precision = 8 decimal places
Scope: merchant_location
---------------------------------

PRIOR:
type: Fixed constant
hyperparameters:
  decimal_places: 8
units: decimal places
default_policy: N/A
justification: Ensures deterministic quantization of residuals pre‑sort.

CALIBRATION_RECIPE:
input_path: N/A
objective: Not applicable
algorithm: Not applicable
random_seed: N/A
convergence_tol: N/A
script_digest: N/A

INTERFACE_CONSUMER:
artefact_name: allocation.py
function: sort_residuals_with_tiebreak
description: Applies 8‑decimal quantization before largest‑remainder sorting.

POSTERIOR_VALIDATION:
metric: maximum rounding error
acceptance_range: [0.0, 1e‑8]
sample_size: 1000

PROVENANCE_TAG:
artefact_name: allocation.py
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
Decimal‑place precision for residual quantization in allocation.

TEST_PATHWAY:
test: CI rounding test
input: residual_precision_stats.log
assert: max rounding error < 1e‑8

Confidence=MEDIUM
<<<END PP‑FIX>>>

<<<PP‑FIX id=12>>
Name: Site‑ID sequence width
Symbol: sequence_digits = 6
Scope: merchant_location
---------------------------------

PRIOR:
type: Fixed constant
hyperparameters:
  value: 6
units: digits
default_policy: abort on overflow
justification: Defines width of numeric sequence for site IDs per merchant-country.

CALIBRATION_RECIPE:
input_path: N/A
objective: Not applicable
algorithm: Not applicable
random_seed: N/A
convergence_tol: N/A
script_digest: N/A

INTERFACE_CONSUMER:
artefact_name: site_id_allocator.py
function: allocate_site_id
description: Assigns sequential site IDs using fixed digit width.

POSTERIOR_VALIDATION:
metric: overflow event count
acceptance_range: [0,0]
sample_size: all merchant-country groups

PROVENANCE_TAG:
artefact_name: N/A
sha256: N/A

SHORT_DESCRIPTION:
Number of digits reserved per merchant-country for site‑ID allocation.

TEST_PATHWAY:
test: CI site-ID sequencing test
input: sequence_stats.log
assert: no overflow for any merchant-country

Confidence=MEDIUM
<<<END PP‑FIX>>>

<<<PP‑FIX id=13>>
Name: Site‑ID max capacity
Symbol: max_sequence = 999999
Scope: merchant_location
---------------------------------

PRIOR:
type: Fixed constant
hyperparameters:
  value: 999999
units: count
default_policy: abort on overflow
justification: Sets the maximum number of site IDs per merchant-country.

CALIBRATION_RECIPE:
input_path: N/A
objective: Not applicable
algorithm: Not applicable
random_seed: N/A
convergence_tol: N/A
script_digest: N/A

INTERFACE_CONSUMER:
artefact_name: site_id_allocator.py
function: allocate_site_id
description: Enforces maximum site-ID value per merchant-country.

POSTERIOR_VALIDATION:
metric: capacity violation count
acceptance_range: [0,0]
sample_size: all merchant-country groups

PROVENANCE_TAG:
artefact_name: N/A
sha256: N/A

SHORT_DESCRIPTION:
Maximum allowable numeric site-ID before build abort.

TEST_PATHWAY:
test: CI capacity enforcement
input: allocation_stats.log
assert: no capacity breaches detected

Confidence=MEDIUM
<<<END PP‑FIX>>>

<<<PP‑FIX id=14>>
Name: NB rejection‑rate corridor
Symbol: overall_nb_rejection_rate ≤ 0.06
Scope: validation
---------------------------------

PRIOR:
type: Fixed threshold
hyperparameters:
  threshold: 0.06
units: proportion
default_policy: abort on breach
justification: Ensures overall NB rejection rate stays within acceptable bounds.

CALIBRATION_RECIPE:
input_path: N/A
objective: Not applicable
algorithm: Not applicable
random_seed: N/A
convergence_tol: N/A
script_digest: N/A

INTERFACE_CONSUMER:
artefact_name: ci_monitor_nb_rejections.py
function: monitor_nb_rejection_rate
description: Evaluates daily overall NB rejection rate against threshold.

POSTERIOR_VALIDATION:
metric: overall NB rejection rate
acceptance_range: [0.0, 0.06]
sample_size: daily build

PROVENANCE_TAG:
artefact_name: ci_monitor_nb_rejections.py
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
Overall allowed NB rejection fraction.

TEST_PATHWAY:
test: CI stationarity script
input: nb_rejection_stats.log
assert: rejection rate ≤ 0.06

Confidence=MEDIUM
<<<END PP‑FIX>>>

<<<PP‑FIX id=15>>
Name: NB per‑merchant p99 rejection threshold
Symbol: p99_rejection_count ≤ 3
Scope: validation
---------------------------------

PRIOR:
type: Fixed threshold
hyperparameters:
  threshold: 3
units: count
default_policy: abort on breach
justification: Caps extreme NB retry counts per merchant.

CALIBRATION_RECIPE:
input_path: N/A
objective: Not applicable
algorithm: Not applicable
random_seed: N/A
convergence_tol: N/A
script_digest: N/A

INTERFACE_CONSUMER:
artefact_name: ci_monitor_nb_rejections.py
function: monitor_nb_p99_rejection
description: Checks 99th‑percentile NB rejections by merchant.

POSTERIOR_VALIDATION:
metric: p99 of NB rejection counts
acceptance_range: [0, 3]
sample_size: daily build

PROVENANCE_TAG:
artefact_name: ci_monitor_nb_rejections.py
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
99th‑percentile allowed NB retry count per merchant.

TEST_PATHWAY:
test: CI per‑merchant rejection script
input: nb_rejection_stats.log
assert: p99 ≤ 3

Confidence=MEDIUM
<<<END PP‑FIX>>>

<<<PP‑FIX id=16>>
Name: CUSUM control‑chart threshold
Symbol: h = 5σ
Scope: validation
---------------------------------

PRIOR:
type: Fixed threshold
hyperparameters:
  h: 5
units: standard deviations
default_policy: abort on breach
justification: Detects drift in NB rejection rates via one‑sided CUSUM.

CALIBRATION_RECIPE:
input_path: N/A
objective: Not applicable
algorithm: Not applicable
random_seed: N/A
convergence_tol: N/A
script_digest: N/A

INTERFACE_CONSUMER:
artefact_name: ci_monitor_nb_cusum.py
function: monitor_cusum_nb_rejections
description: Implements CUSUM control‑chart for NB drift detection.

POSTERIOR_VALIDATION:
metric: CUSUM statistic
acceptance_range: [0, 5]
sample_size: daily build

PROVENANCE_TAG:
artefact_name: ci_monitor_nb_cusum.py
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
One‑sided CUSUM abort threshold for NB rejection drift.

TEST_PATHWAY:
test: CI CUSUM monitoring script
input: cusum_stats.log
assert: CUSUM h‑limit not exceeded

Confidence=MEDIUM
<<<END PP‑FIX>>>

<<<PP‑FIX id=17>>
Name: ZTP retry cap
Symbol: max_retries = 64
Scope: merchant_location
---------------------------------

PRIOR:
type: Fixed constant
hyperparameters:
  value: 64
units: count
default_policy: abort on exceed
justification: Limits retries in zero‑truncated Poisson sampling.

CALIBRATION_RECIPE:
input_path: N/A
objective: Not applicable
algorithm: Not applicable
random_seed: N/A
convergence_tol: N/A
script_digest: N/A

INTERFACE_CONSUMER:
artefact_name: ztp_sampler.py
function: sample_ztp
description: Enforces retry cap for ZTP draw.

POSTERIOR_VALIDATION:
metric: retry exceed event count
acceptance_range: [0, 0]
sample_size: daily build

PROVENANCE_TAG:
artefact_name: ztp_sampler.py
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
Maximum Poisson rejection attempts before abort.

TEST_PATHWAY:
test: CI ZTP retry monitor
input: ztp_retry_stats.log
assert: no retry exceed events

Confidence=MEDIUM
<<<END PP‑FIX>>>

<<<PP‑FIX id=18>>
Name: ZTP mean‑rejection target
Symbol: mean_rejection_rate < 0.05
Scope: validation
---------------------------------

PRIOR:
type: Fixed threshold
hyperparameters:
  threshold: 0.05
units: proportion
default_policy: abort on breach
justification: Ensures efficient performance of ZTP sampling.

CALIBRATION_RECIPE:
input_path: N/A
objective: Not applicable
algorithm: Not applicable
random_seed: N/A
convergence_tol: N/A
script_digest: N/A

INTERFACE_CONSUMER:
artefact_name: ci_monitor_ztp_rejections.py
function: monitor_ztp_mean_rejection
description: Checks daily mean ZTP rejection rate.

POSTERIOR_VALIDATION:
metric: mean ZTP rejection rate
acceptance_range: [0.0, 0.05]
sample_size: daily build

PROVENANCE_TAG:
artefact_name: ci_monitor_ztp_rejections.py
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
Allowed mean rejection rate for ZTP sampling.

TEST_PATHWAY:
test: CI ZTP rejection monitor
input: ztp_rejection_stats.log
assert: mean rejection rate < 0.05

Confidence=MEDIUM
<<<END PP‑FIX>>>

<<<PP‑FIX id=19>>
Name: ZTP p99.9 rejection target
Symbol: p99.9 < 3
Scope: validation
---------------------------------

PRIOR:
type: Fixed threshold
hyperparameters:
  threshold: 3
units: count
default_policy: abort on breach
justification: Restricts extreme retry counts in ZTP.

CALIBRATION_RECIPE:
input_path: N/A
objective: Not applicable
algorithm: Not applicable
random_seed: N/A
convergence_tol: N/A
script_digest: N/A

INTERFACE_CONSUMER:
artefact_name: ci_monitor_ztp_rejections.py
function: monitor_ztp_p999_rejection
description: Monitors 99.9th‑percentile ZTP retries.

POSTERIOR_VALIDATION:
metric: 99.9th‑percentile retry count
acceptance_range: [0, 3]
sample_size: daily build

PROVENANCE_TAG:
artefact_name: ci_monitor_ztp_rejections.py
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
99.9th‑percentile ZTP retry threshold.

TEST_PATHWAY:
test: CI ZTP p99.9 monitor
input: ztp_rejection_stats.log
assert: p99.9 < 3

Confidence=MEDIUM
<<<END PP‑FIX>>>

<<<PP‑FIX id=20>>
Name: θ₁ Wald p‑value cutoff
Symbol: p_value < 1e‑5
Scope: merchant_location
---------------------------------

PRIOR:
type: Fixed threshold
hyperparameters:
  threshold: 1e-5
units: p-value
default_policy: abort on fail
justification: Ensures statistical significance in cross-border slope.

CALIBRATION_RECIPE:
input_path: N/A
objective: Not applicable
algorithm: Not applicable
random_seed: N/A
convergence_tol: N/A
script_digest: N/A

INTERFACE_CONSUMER:
artefact_name: crossborder_validation.py
function: validate_theta1_significance
description: Runs Wald test for θ₁<1.

POSTERIOR_VALIDATION:
metric: Wald p-value
acceptance_range: [0, 1e-5]
sample_size: 1 regression run

PROVENANCE_TAG:
artefact_name: crossborder_validation.py
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
Significance cutoff for log-linear slope θ₁.

TEST_PATHWAY:
test: CI Wald test
input: theta_stats.log
assert: p-value < 1e-5

Confidence=HIGH
<<<END PP‑FIX>>>

<<<PP‑FIX id=21>>
Name: Numeric environment constraints
Symbol: IEEE‑754 binary64; disable fused‑multiply‑add
Scope: merchant_location
---------------------------------

PRIOR:
type: Fixed deterministic constraint
hyperparameters:
  precision: binary64
  fma_enabled: false
units: dimensionless
default_policy: documentation update + semver bump on any deviation
justification: Guarantees bit‑identical stochastic arithmetic.

CALIBRATION_RECIPE:
input_path: N/A
objective: Not applicable
algorithm: Not applicable
random_seed: N/A
convergence_tol: N/A
script_digest: N/A

INTERFACE_CONSUMER:
artefact_name: docs/env_constraints.md
function: apply_env_constraints
description: Defines numerical precision and FMA settings for samplers.

POSTERIOR_VALIDATION:
metric: reproducibility match
acceptance_range: bitwise identical
sample_size: same seed runs across environments

PROVENANCE_TAG:
artefact_name: docs/env_constraints.md
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
Enforces numeric environment for reproducibility.

TEST_PATHWAY:
test: CI environment consistency script
input: env_test.log
assert: RNG outputs bitwise identical

Confidence=HIGH
<<<END PP‑FIX>>>

<<<PP‑FIX id=22>>
Name: Residual‑sort tie‑break key
Symbol: secondary_sort = ISO lexicographic
Scope: merchant_location
---------------------------------

PRIOR:
type: Fixed deterministic rule
hyperparameters: {}
units: dimensionless
default_policy: abort on validation mismatch
justification: Ensures deterministic ordering of residuals in allocation.

CALIBRATION_RECIPE:
input_path: N/A
objective: Not applicable
algorithm: Not applicable
random_seed: N/A
convergence_tol: N/A
script_digest: N/A

INTERFACE_CONSUMER:
artefact_name: allocation.py
function: sort_residuals
description: Applies ISO lexicographic tie‑break after quantization.

POSTERIOR_VALIDATION:
metric: tie-break consistency failures
acceptance_range: [0,0]
sample_size: 1 build

PROVENANCE_TAG:
artefact_name: allocation.py
sha256: <to‑be‑populated>

SHORT_DESCRIPTION:
Rule to break ties when sorting residual fractions.

TEST_PATHWAY:
test: CI allocation tie‑break test
input: residual_sort_stats.log
assert: no tie‑break inconsistencies

Confidence=HIGH
<<<END PP‑FIX>>>

##### END PARAMETER_SPEC #####

id=1  | gaps_closed=calib|post|default|interface     | notes=Filled uniform‑calibration and validation details
id=2  | gaps_closed=hyperparams|calib|default|interface | notes=Specified coefficient file and recipe
id=3  | gaps_closed=hyperparams|calib|default|interface | notes=Added mean‑link coeffs path and recipe
id=4  | gaps_closed=hyperparams|calib|default|interface | notes=Completed dispersion recipe and hyperparams
id=5  | gaps_closed=calib|post|default|interface     | notes=Defined Gamma sampling tests and defaults
id=6  | gaps_closed=calib|post|default|interface     | notes=Defined Poisson sampling tests and defaults
id=7  | gaps_closed=calib|default|interface         | notes=Filled ZTP recipe, default policy, consumer
id=8  | gaps_closed=hyperparams|calib|default|interface | notes=Populated cross‑border regression recipe
id=9  | gaps_closed=calib|post|prov                | notes=Added smoothing tests and provenance
id=10 | gaps_closed=calib|interface                 | notes=Completed Dirichlet alpha recipe and consumer
id=11 | gaps_closed=calib|prov|interface            | notes=Set precision recipe and provenance
id=12 | gaps_closed=calib|post|prov|interface       | notes=Filled calibration, validation, provenance & interface details
id=13 | gaps_closed=calib|post|prov|interface       | notes=Filled calibration, validation, provenance & interface details
id=14 | gaps_closed=calib|prov|interface            | notes=Specified interface & provenance for NB rejection corridor
id=15 | gaps_closed=calib|prov|default|interface    | notes=Completed NB p99 spec and CI integration
id=16 | gaps_closed=calib|prov|default|interface    | notes=Added CUSUM CI script & thresholds
id=17 | gaps_closed=calib|prov|interface            | notes=Defined ZTP retry cap recipe & consumer
id=18 | gaps_closed=calib|prov|default|interface    | notes=Specified ZTP mean-rejection CI details
id=19 | gaps_closed=calib|prov|default|interface    | notes=Specified ZTP p99.9 CI details
id=20 | gaps_closed=calib|interface                 | notes=Added θ₁ significance test consumer
id=21 | gaps_closed=calib|post|prov                | notes=Defined environment constraint validation
id=22 | gaps_closed=calib|prov                    | notes=Completed residual tie-break spec

<<PS‑END>>