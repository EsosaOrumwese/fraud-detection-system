--- PP 1 ---
Name: Spatial prior blend coefficients
Symbol: αₖ
Scope: merchant_location
Prior_type: Convex combination
Prior_specified: Yes
Calibration_recipe: No
Posterior_validation: Yes
Provenance_tag: Yes
Units: dimensionless
Default_policy: abort
Interface_consumer: spatial_blend.yaml loader in spatial_sampler
Description: Weights for convex blend of raster/vector priors per (MCC, channel).
Anchor: “The blend coefficients live in `spatial_blend.yaml`; … weight vectors … must sum to 1 within 1×10⁻⁹ or CI fails” :contentReference[oaicite:15]{index=15}
Context: “For big-box categories the prior is a blended raster … blend coefficients live in `spatial_blend.yaml`; a reviewer can change a coefficient … test sensitivity.”  
Gap_flags:
  prior_missing=N
  hyperparams_missing=N
  calibration_missing=Y
  posterior_missing=N
  provenance_missing=N
  units_missing=N
  default_policy_missing=N
  interface_consumer_missing=N
  description_missing=N
Confidence=HIGH
--- END PP 1 ---

--- PP 2 ---
Name: Fenwick tree integer scaling factor
Symbol: S
Scope: merchant_location
Prior_type: Deterministic function
Prior_specified: Yes
Calibration_recipe: No
Posterior_validation: Yes
Provenance_tag: Partial
Units: dimensionless
Default_policy: abort
Interface_consumer: Fenwick tree builder in spatial_sampler
Description: Scales float prior weights to uint64 for Fenwick sampling.
Anchor: “S = (2^64−1 − n)/W_f; cumulative sums … never overflow by construction” :contentReference[oaicite:16]{index=16}
Context: “Float weights are scaled to uint64 deterministically: let W_f = Σ w_i; S = … ensuring every positive w_i … overflow prevented.”  
Gap_flags:
  prior_missing=N
  hyperparams_missing=N
  calibration_missing=Y
  posterior_missing=Y
  provenance_missing=Y
  units_missing=N
  default_policy_missing=N
  interface_consumer_missing=N
  description_missing=N
Confidence=HIGH
--- END PP 2 ---

--- PP 3 ---
Name: Global raster grid resolution
Symbol: Δλ = Δφ = 1/1200°
Scope: merchant_location
Prior_type: Fixed constant
Prior_specified: Yes
Calibration_recipe: No
Posterior_validation: No
Provenance_tag: No
Units: degrees
Default_policy: abort on change
Interface_consumer: raster_reprojection module
Description: Angular spacing of global grid for raster resampling.
Anchor: “Global raster grid resolution fixed at 1/1200° (~300 m at equator)” :contentReference[oaicite:17]{index=17}
Context: “Geospatial Grid: Global raster grid resolution fixed at 1/1200°; indices must not assume constant metre size …”  
Gap_flags:
  prior_missing=N
  hyperparams_missing=N
  calibration_missing=Y
  posterior_missing=Y
  provenance_missing=Y
  units_missing=N
  default_policy_missing=N
  interface_consumer_missing=Y
  description_missing=N
Confidence=HIGH
--- END PP 3 ---

--- PP 4 ---
Name: Intra‑pixel jitter flag
Symbol: jitter_enabled
Scope: merchant_location
Prior_type: Fixed boolean
Prior_specified: Yes
Calibration_recipe: No
Posterior_validation: No
Provenance_tag: No
Units: boolean
Default_policy: off
Interface_consumer: pixel_center_sampler
Description: Toggles ±½ Δ uniform jitter on pixel‑center coordinates.
Anchor: “Intra‑pixel jitter optional: if enabled, add uniform offsets in (–Δ/2,+Δ/2).” :contentReference[oaicite:18]{index=18}
Context: “Raster resampling onto fixed grid … optional intra‑pixel jitter to avoid alignment artifacts.”  
Gap_flags:
  prior_missing=N
  hyperparams_missing=N
  calibration_missing=Y
  posterior_missing=Y
  provenance_missing=Y
  units_missing=N
  default_policy_missing=N
  interface_consumer_missing=Y
  description_missing=N
Confidence=MEDIUM
--- END PP 4 ---

--- PP 5 ---
Name: Road‑proximity rejection threshold
Symbol: d_road_max = 50 m
Scope: merchant_location
Prior_type: Fixed constant
Prior_specified: Yes
Calibration_recipe: No
Posterior_validation: No
Provenance_tag: No
Units: metres
Default_policy: abort on breach
Interface_consumer: road_distance_filter
Description: Maximum allowed distance from nearest primary road for road‑based priors.
Anchor: “Distance ≤ 50 m for road priors” :contentReference[oaicite:19]{index=19}
Context: “For vehicle‑oriented merchants the prior is … line segments carry AADT … reject if > d_road_max.”  
Gap_flags:
  prior_missing=N
  hyperparams_missing=N
  calibration_missing=Y
  posterior_missing=Y
  provenance_missing=Y
  units_missing=N
  default_policy_missing=N
  interface_consumer_missing=Y
  description_missing=N
Confidence=MEDIUM
--- END PP 5 ---

--- PP 6 ---
Name: Wilson 95% lower‑bound
Symbol: L ≥ 0.90
Scope: validation
Prior_type: Fixed threshold
Prior_specified: Yes
Calibration_recipe: No
Posterior_validation: Yes
Provenance_tag: No
Units: proportion
Default_policy: abort on drop
Interface_consumer: acceptance_monitor
Description: Lower 95% confidence bound on acceptance probability per prior.
Anchor: “require L ≥ 0.90 after Wilson 95% bound” :contentReference[oaicite:20]{index=20}
Context: “compute p̂ and Wilson lower 95% bound L; require L≥0.90; log metrics nightly.”  
Gap_flags:
  prior_missing=N
  hyperparams_missing=N
  calibration_missing=Y
  posterior_missing=N
  provenance_missing=Y
  units_missing=N
  default_policy_missing=N
  interface_consumer_missing=Y
  description_missing=N
Confidence=HIGH
--- END PP 6 ---

--- PP 7 ---
Name: Trend‑alert drop threshold
Symbol: Δp_max = 5 ppt
Scope: validation
Prior_type: Fixed threshold
Prior_specified: Yes
Calibration_recipe: No
Posterior_validation: Yes
Provenance_tag: No
Units: percentage points
Default_policy: alert only
Interface_consumer: acceptance_monitor
Description: Maximum allowed week‑over‑week drop in p̂.
Anchor: “regression alert fires if p̂ drops more than 5 percentage points” :contentReference[oaicite:21]{index=21}
Context: “monitor … p̂; a regression alert fires if drop > 5 ppt even if L ≥ 0.90.”  
Gap_flags:
  prior_missing=N
  hyperparams_missing=N
  calibration_missing=Y
  posterior_missing=N
  provenance_missing=Y
  units_missing=N
  default_policy_missing=N
  interface_consumer_missing=Y
  description_missing=N
Confidence=HIGH
--- END PP 7 ---

--- PP 8 ---
Name: Termination‑cap formula constants
Symbol: A_max = min(500, 10/max(r_min, a_L)); r_min = 0.10
Scope: merchant_location
Prior_type: Fixed formula
Prior_specified: Yes
Calibration_recipe: No
Posterior_validation: No
Provenance_tag: No
Units: count
Default_policy: abort
Interface_consumer: placement_attempt_manager
Description: Caps max attempts per pixel/polygon draw based on success‑rate floor.
Anchor: “min success_rate=0.10; A_max = min(500, 10/max(0.10, a_L))” :contentReference[oaicite:22]{index=22}
Context: “per‑site resample attempts must never exceed A_max; exceeding aborts build.”  
Gap_flags:
  prior_missing=N
  hyperparams_missing=N
  calibration_missing=Y
  posterior_missing=Y
  provenance_missing=Y
  units_missing=N
  default_policy_missing=N
  interface_consumer_missing=Y
  description_missing=N
Confidence=HIGH
--- END PP 8 ---

--- PP 9 ---
Name: Philox sub‑stream keys & strides
Symbol: keys = {…}, stride = low64(SHA256(key))
Scope: merchant_location
Prior_type: Fixed deterministic assignment
Prior_specified: Yes
Calibration_recipe: No
Posterior_validation: Yes
Provenance_tag: No
Units: dimensionless
Default_policy: abort on duplicate
Interface_consumer: philox_rng_manager
Description: Keys and stride offsets for each RNG sub‑stream.
Anchor: “keys enumerated: site_sampling, polygon_interior, footfall_lognormal, fenwick_tie_break, tz_resample; stride=lower‑64 bits(SHA256(key))” :contentReference[oaicite:23]{index=23}
Context: “Sub‑stream stride derivation: stride(key)=…; CI asserts distinctness; SHA‑1 prohibited.”  
Gap_flags:
  prior_missing=N
  hyperparams_missing=N
  calibration_missing=Y
  posterior_missing=N
  provenance_missing=Y
  units_missing=N
  default_policy_missing=N
  interface_consumer_missing=Y
  description_missing=N
Confidence=HIGH
--- END PP 9 ---

--- PP 10 ---
Name: Earth radius for Haversine
Symbol: R = 6371.0088 km
Scope: merchant_location
Prior_type: Fixed constant
Prior_specified: Yes
Calibration_recipe: No
Posterior_validation: No
Provenance_tag: No
Units: kilometres
Default_policy: abort on change
Interface_consumer: distance_calculator
Description: Radius used in great‑circle distance formula.
Anchor: “with R=6371.0088 km” :contentReference[oaicite:24]{index=24}
Context: “d_H = 2R arcsin(…) with R=6371.0088 km.”  
Gap_flags:
  prior_missing=N
  hyperparams_missing=N
  calibration_missing=Y
  posterior_missing=Y
  provenance_missing=Y
  units_missing=N
  default_policy_missing=N
  interface_consumer_missing=Y
  description_missing=N
Confidence=HIGH
--- END PP 10 ---

--- PP 11 ---
Name: Contraction‑hierarchies graph path & version
Symbol: graph_file = osm_ch_graph_{snapshot}.bin
Scope: merchant_location
Prior_type: Fixed artefact reference
Prior_specified: Yes
Calibration_recipe: No
Posterior_validation: No
Provenance_tag: Yes
Units: N/A
Default_policy: abort if missing
Interface_consumer: road_distance_calculator
Description: Path pattern and semver/digest for CH graph used in d_R.
Anchor: “Pattern: osm_ch_graph_{snapshot}.bin + semver/digest” :contentReference[oaicite:25]{index=25}
Context: “Road distance d_R = length of shortest path in graph G_c; CH graph file …”  
Gap_flags:
  prior_missing=N
  hyperparams_missing=N
  calibration_missing=Y
  posterior_missing=Y
  provenance_missing=N
  units_missing=N
  default_policy_missing=N
  interface_consumer_missing=Y
  description_missing=N
Confidence=HIGH
--- END PP 11 ---

--- PP 12 ---
Name: Crash‑tolerant write protocol
Symbol: temp_suffix + fsync + atomic‑rename
Scope: merchant_location
Prior_type: Fixed policy
Prior_specified: Yes
Calibration_recipe: No
Posterior_validation: No
Provenance_tag: No
Units: N/A
Default_policy: abort on violation
Interface_consumer: file_writer in placement_engine
Description: Ensures idempotent, atomic writes of site_parquet rows.
Anchor: “Write to .parquet.tmp, fsync, then atomic rename; skip if final exists” :contentReference[oaicite:26]{index=26}
Context: “Write protocol: construct temp file … fsync, atomic rename; idempotent recovery.”  
Gap_flags:
  prior_missing=N
  hyperparams_missing=N
  calibration_missing=Y
  posterior_missing=Y
  provenance_missing=Y
  units_missing=N
  default_policy_missing=N
  interface_consumer_missing=Y
  description_missing=N
Confidence=HIGH
--- END PP 12 ---

--- PP 13 ---
Name: Audit‑event schema fields
Symbol: fields = {pre_counter, post_counter, stride_key, …}
Scope: merchant_location
Prior_type: Fixed schema
Prior_specified: Yes
Calibration_recipe: No
Posterior_validation: No
Provenance_tag: No
Units: N/A
Default_policy: abort on mismatch
Interface_consumer: placement_audit.log writer
Description: Fields logged for each stochastic/structural event.
Anchor: “Audit‑event schema: pre_counter, post_counter, stride_key, … placement_failure reasons…” :contentReference[oaicite:27]{index=27}
Context: “Placement Failure Event Schema: Event: placement_failure; Additional fields: reason, attempt_count, prior_tag.”  
Gap_flags:
  prior_missing=N
  hyperparams_missing=N
  calibration_missing=Y
  posterior_missing=Y
  provenance_missing=Y
  units_missing=N
  default_policy_missing=N
  interface_consumer_missing=Y
  description_missing=N
Confidence=HIGH
--- END PP 13 ---

--- PP 14 ---
Name: Capital‑fallback selection logic
Symbol: role_type & primary_flag
Scope: merchant_location
Prior_type: Fixed policy
Prior_specified: Yes
Calibration_recipe: No
Posterior_validation: No
Provenance_tag: No
Units: N/A
Default_policy: abort on none
Interface_consumer: capital_selector in remoteness_module
Description: Logic to choose administrative or primary capital fallback per country.
Anchor: “select row with role_type='administrative' & primary_flag=true; else primary; else abort” :contentReference[oaicite:28]{index=28}
Context: “Load capitals_dataset_2024.parquet; select …; if neither present, abort build.”  
Gap_flags:
  prior_missing=N
  hyperparams_missing=N
  calibration_missing=Y
  posterior_missing=Y
  provenance_missing=Y
  units_missing=N
  default_policy_missing=N
  interface_consumer_missing=Y
  description_missing=N
Confidence=HIGH
--- END PP 14 ---

--- PP 15 ---
Name: Fenwick‑alias uniform deviate
Symbol: cdf_threshold_u ~ U(0,1)
Scope: merchant_location
Prior_type: Uniform
Prior_specified: Yes
Calibration_recipe: No
Posterior_validation: No
Provenance_tag: Yes
Units: dimensionless
Default_policy: abort on RNG error
Interface_consumer: Fenwick/alias sampler
Description: Exact scaled uniform used in importance‑sampling at each draw.
Anchor: “cdf_threshold_u stores the exact scaled uniform used in Fenwick / alias search” :contentReference[oaicite:29]{index=29}
Context: “Extended site catalogue columns: … cdf_threshold_u (float64) stores the exact scaled uniform used in Fenwick / alias search.”  
Gap_flags:
  prior_missing=N
  hyperparams_missing=N
  calibration_missing=Y
  posterior_missing=Y
  provenance_missing=N
  units_missing=N
  default_policy_missing=Y
  interface_consumer_missing=Y
  description_missing=N
Confidence=MEDIUM
--- END PP 15 ---

<<PP‑END>>