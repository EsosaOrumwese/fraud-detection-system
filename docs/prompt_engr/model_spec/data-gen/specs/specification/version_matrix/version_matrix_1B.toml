##### VERSION_MATRIX.toml #####

<<<TV-FIX id=1>>>
[spatial_manifest.json]
type             = "code"
version_tag      = "v1.0.0-draft"
valid_from       = "2025-07-26"
valid_to         = "9999-12-31"
update_cadence   = "never"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["ALL_OTHER_ARTEFACTS"]
notes            = "Reserve manifest file path; digest populated post-build"
<<<END TV-FIX>>>

<<<TV-FIX id=2>>>
[spatial_blend.yaml]
type             = "code"
version_tag      = "v1.0.0-draft"
valid_from       = "2025-07-26"
valid_to         = "9999-12-31"
update_cadence   = "annual"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["ALL_OTHER_ARTEFACTS"]
notes            = "Define blend table schema; digest and compatibility list pending"
<<<END TV-FIX>>>

<<<TV-FIX id=3>>>
[artefacts/priors/hrsl/2020_v1.2/{ISO2}.tif]
type             = "raster"
version_tag      = "2020_v1.2"
valid_from       = "2020-01-01"
valid_to         = "9999-12-31"
update_cadence   = "never"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["tz_world_polygons_v2024a","natural_earth_land_10m_v5.1.2.geojson"]
notes            = "HRSL vintage fixed; cadences and compatibility after full data audit"
<<<END TV-FIX>>>

<<<TV-FIX id=4>>>
[artefacts/priors/osm_primary_roads_{YYYYMMDD}.gpkg]
type             = "vector"
version_tag      = "2025-07-26"
valid_from       = "2025-07-26"
valid_to         = "9999-12-31"
update_cadence   = "daily"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["artefacts/priors/osm_planet_snapshot_{YYYYMMDD}.pbf"]
notes            = "Use latest snapshot date as version; update daily with new extracts"
<<<END TV-FIX>>>

<<<TV-FIX id=5>>>
[artefacts/priors/aadt_counts_compiled_v1.parquet]
type             = "parquet"
version_tag      = "v1"
valid_from       = "2025-07-26"
valid_to         = "9999-12-31"
update_cadence   = "annual"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["artefacts/priors/osm_primary_roads_{YYYYMMDD}.gpkg"]
notes            = "Compile annual AADT counts; version 1 fixed"
<<<END TV-FIX>>>

<<<TV-FIX id=6>>>
[artefacts/priors/iata_airport_boundaries_v2023Q4.geojson]
type             = "vector"
version_tag      = "v2023Q4"
valid_from       = "2023-10-01"
valid_to         = "2023-12-31"
update_cadence   = "quarterly"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["artefacts/priors/aadt_counts_compiled_v1.parquet"]
notes            = "Use Q4 2023 airport data; quarterly updates scheduled"
<<<END TV-FIX>>>

<<<TV-FIX id=7>>>
[artefacts/priors/suburban_pop_density_2022_v1.tif]
type             = "raster"
version_tag      = "v1"
valid_from       = "2022-01-01"
valid_to         = "9999-12-31"
update_cadence   = "annual"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["artefacts/priors/hrsl/2020_v1.2/{ISO2}.tif"]
notes            = "Suburban density vintage fixed; update annually if new release"
<<<END TV-FIX>>>

<<<TV-FIX id=8>>>
[artefacts/priors/road_traffic_density_2022_v2.tif]
type             = "raster"
version_tag      = "v2"
valid_from       = "2022-01-01"
valid_to         = "9999-12-31"
update_cadence   = "annual"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["artefacts/priors/suburban_pop_density_2022_v1.tif"]
notes            = "Road traffic density v2; update annually with new data"
<<<END TV-FIX>>>

<<<TV-FIX id=9>>>
[artefacts/priors/worldpop/2023Q4/{ISO2}.tif]
type             = "raster"
version_tag      = "2023Q4"
valid_from       = "2023-10-01"
valid_to         = "2023-12-31"
update_cadence   = "quarterly"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["artefacts/priors/road_traffic_density_2022_v2.tif"]
notes            = "WorldPop fallback for Q4 2023; quarterly cadence"
<<<END TV-FIX>>>

<<<TV-FIX id=10>>>
[artefacts/priors/tz_world_polygons_v2024a.geojson]
type             = "vector"
version_tag      = "v2024a"
valid_from       = "2024-01-01"
valid_to         = "9999-12-31"
update_cadence   = "annual"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["tz_world_metadata.json"]
notes            = "IANA TZ polygons v2024a; update annually with IANA releases"
<<<END TV-FIX>>>

<<<TV-FIX id=11>>>
[tz_world_metadata.json]
type             = "code"
version_tag      = "v2024a-meta"
valid_from       = "2024-01-01"
valid_to         = "9999-12-31"
update_cadence   = "annual"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["artefacts/priors/tz_world_polygons_v2024a.geojson"]
notes            = "Metadata for IANA polygons; version aligns with polygon dataset"
<<<END TV-FIX>>>

<<<TV-FIX id=12>>>
[artefacts/priors/capitals_dataset_2024.parquet]
type             = "parquet"
version_tag      = "v2024"
valid_from       = "2024-01-01"
valid_to         = "9999-12-31"
update_cadence   = "annual"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["artefacts/priors/tz_world_metadata.json"]
notes            = "Capital coordinates for 2024; update annually"
<<<END TV-FIX>>>

<<<TV-FIX id=13>>>
[artefacts/priors/natural_earth_land_10m_v5.1.2.geojson]
type             = "vector"
version_tag      = "v5.1.2"
valid_from       = "2020-01-01"
valid_to         = "9999-12-31"
update_cadence   = "never"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["artefacts/priors/capitals_dataset_2024.parquet"]
notes            = "Natural Earth v5.1.2; static release"
<<<END TV-FIX>>>

<<<TV-FIX id=14>>>
[footfall_coefficients.yaml]
type             = "code"
version_tag      = "v1.0.0-draft"
valid_from       = "2025-07-26"
valid_to         = "9999-12-31"
update_cadence   = "annual"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["ALL_OTHER_ARTEFACTS"]
notes            = "Specify κ and σ per MCC/channel; placeholders for hash and compatibility"
<<<END TV-FIX>>>

<<<TV-FIX id=15>>>
[winsor.yml]
type             = "code"
version_tag      = "v1.0.0-draft"
valid_from       = "2025-07-26"
valid_to         = "9999-12-31"
update_cadence   = "annual"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["ALL_OTHER_ARTEFACTS"]
notes            = "Define winsor clip params; placeholders for hash and compatibility"
<<<END TV-FIX>>>

<<<TV-FIX id=16>>>
[fallback_policy.yml]
type             = "code"
version_tag      = "v1.0.0-draft"
valid_from       = "2025-07-26"
valid_to         = "9999-12-31"
update_cadence   = "annual"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["ALL_OTHER_ARTEFACTS"]
notes            = "Global threshold and per-MCC overrides; placeholders"
<<<END TV-FIX>>>

<<<TV-FIX id=17>>>
[calibration_slice_config.yml]
type             = "code"
version_tag      = "v1.0.0-draft"
valid_from       = "2025-07-26"
valid_to         = "9999-12-31"
update_cadence   = "annual"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["ALL_OTHER_ARTEFACTS"]
notes            = "Footfall calibration slices; placeholders"
<<<END TV-FIX>>>

<<<TV-FIX id=18>>>
[artefacts/priors/osm_planet_snapshot_{YYYYMMDD}.pbf]
type             = "container"
version_tag      = "{snapshot_date}"
valid_from       = "{snapshot_date}"
valid_to         = "9999-12-31"
update_cadence   = "monthly"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["artefacts/priors/osm_ch_graph_{snapshot}.bin"]
notes            = "OSM planet extract; update monthly with new snapshots"
<<<END TV-FIX>>>

<<<TV-FIX id=19>>>
[artefacts/priors/osm_ch_graph_{snapshot}.bin]
type             = "container"
version_tag      = "v1.0.0-draft"
valid_from       = "2025-07-26"
valid_to         = "9999-12-31"
update_cadence   = "never"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["artefacts/priors/osm_planet_snapshot_{YYYYMMDD}.pbf"]
notes            = "Road graph CH binaries; digest to populate post-build"
<<<END TV-FIX>>>

<<<TV-FIX id=20>>>
[logs/placement_audit.log]
type             = "code"
version_tag      = "v1.0.0-draft"
valid_from       = "2025-07-26"
valid_to         = "9999-12-31"
update_cadence   = "daily"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["logs/diagnostic_metrics.parquet"]
notes            = "Audit log for spatial placement; update daily"
<<<END TV-FIX>>>

<<<TV-FIX id=21>>>
[logs/diagnostic_metrics.parquet]
type             = "parquet"
version_tag      = "v1.0.0-draft"
valid_from       = "2025-07-26"
valid_to         = "9999-12-31"
update_cadence   = "daily"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["logs/placement_audit.log"]
notes            = "Nightly diagnostic metrics; update daily"
<<<END TV-FIX>>>

<<<TV-FIX id=22>>>
[site_catalogue/partition_date=YYYYMMDD/merchant_id={id}/site_id={site_id}.parquet]
type             = "parquet"
version_tag      = "v1.0.0-draft"
valid_from       = "2025-07-26"
valid_to         = "9999-12-31"
update_cadence   = "never"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["site_catalogue_schema.json"]
notes            = "Final spatial catalogue output; immutable per run"
<<<END TV-FIX>>>

<<<TV-FIX id=23>>>
[site_catalogue_schema.json]
type             = "code"
version_tag      = "v1.0.0-draft"
valid_from       = "2025-07-26"
valid_to         = "9999-12-31"
update_cadence   = "never"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["site_catalogue/partition_date=YYYYMMDD/merchant_id={id}/site_id={site_id}.parquet"]
notes            = "Schema descriptor for output catalogue"
<<<END TV-FIX>>>

<<<TV-FIX id=24>>>
[schema_version.txt]
type             = "code"
version_tag      = "v1.0.0-draft"
valid_from       = "2025-07-26"
valid_to         = "9999-12-31"
update_cadence   = "never"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["site_catalogue_schema.json"]
notes            = "Output schema version marker"
<<<END TV-FIX>>>

<<<TV-FIX id=25>>>
[calib_dist_digest.txt]
type             = "code"
version_tag      = "v1.0.0-draft"
valid_from       = "2025-07-26"
valid_to         = "9999-12-31"
update_cadence   = "never"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["calibration_slice_config.yml"]
notes            = "Digest for calibration distribution; placeholder"
<<<END TV-FIX>>>

<<<TV-FIX id=26>>>
[site_catalogue/partition_date=YYYYMMDD/merchant_id={id}/site_id={site_id}.parquet.tmp]
type             = "container"
version_tag      = "v1.0.0-draft"
valid_from       = "2025-07-26"
valid_to         = "9999-12-31"
update_cadence   = "never"
sha256           = "<to-be-populated-on-build>"
compatible_with  = ["site_catalogue/partition_date=YYYYMMDD/merchant_id={id}/site_id={site_id}.parquet"]
notes            = "Crash-tolerant temp files; digest placeholder"
<<<END TV-FIX>>>

##### END VERSION_MATRIX #####

id=1  | gaps_closed=tag|window|cadence|digest|compat | notes=manifest draft version and digest placeholder  
id=2  | gaps_closed=tag|window|cadence|digest|compat | notes=blend YAML draft version  
id=3  | gaps_closed=window|cadence|compat          | notes=HRSL vintage and static cadence  
id=4  | gaps_closed=window|compat                  | notes=OSM snapshot dated and daily cadence  
id=5  | gaps_closed=window|compat                  | notes=AADT compile cadence and window  
id=6  | gaps_closed=window|compat                  | notes=iata Q4 2023 release  
id=7  | gaps_closed=window|compat                  | notes=suburban density vintage  
id=8  | gaps_closed=window|compat                  | notes=road density release  
id=9  | gaps_closed=window|compat                  | notes=WorldPop Q4 2023  
id=10 | gaps_closed=window|compat                  | notes=TZ polygons annual update  
id=11 | gaps_closed=tag|window|compat              | notes=metadata version aligned  
id=12 | gaps_closed=window|compat                  | notes=capital coords 2024  
id=13 | gaps_closed=window|compat                  | notes=Natural Earth static 
id=14 | gaps_closed=tag|window|cadence|compat     | notes=added footfall placeholders  
id=15 | gaps_closed=tag|window|cadence|compat     | notes=added winsor placeholders  
id=16 | gaps_closed=tag|window|cadence|compat     | notes=added fallback placeholders  
id=17 | gaps_closed=tag|window|cadence|compat     | notes=added calibration placeholders  
id=18 | gaps_closed=window|cadence|compat        | notes=added snapshot window and cadence  
id=19 | gaps_closed=tag|window|cadence|compat    | notes=added CH graph placeholders  
id=20 | gaps_closed=window|cadence|digest|compat | notes=added log cadence and digest  
id=21 | gaps_closed=window|cadence|digest|compat | notes=added metrics cadence and digest  
id=22 | gaps_closed=tag|window|cadence|compat    | notes=added catalogue output placeholders  
id=23 | gaps_closed=tag|window|cadence|compat    | notes=added schema placeholders  
id=24 | gaps_closed=tag|window|cadence|compat    | notes=added schema_version placeholders  
id=25 | gaps_closed=tag|window|cadence|compat    | notes=added digest placeholder  
id=26 | gaps_closed=tag|window|cadence|compat    | notes=added temp-file placeholders  

<<VM-END>>