--- IC 1 ---
Stage: ValidateStructuralIntegrity
Anchor: "writes the row and its context into `structural_failure_<parameter_hash>.parquet`" 
Input_artefact: {dataset_root}/transactions/*.parquet; tz_world_2025a.shp; config/zoneinfo_version.yml; schemas/transaction_schema.json
Input_schema: Partial
Output_artefact: validation/structural_failure_<parameter_hash>.parquet
Output_schema: Partial
Partitioning_rule: No
Success_metric: No
Error_code_policy: Yes
Schema_version: Missing
Access_policy: Missing
Consumed_by: Missing
Test_pathway: Missing
Gap_flags:
  input_missing=N
  input_schema_missing=Y
  output_missing=N
  output_schema_missing=Y
  partition_missing=Y
  metric_missing=Y
  error_policy_missing=N
  schema_version_missing=Y
  access_policy_missing=Y
  consumed_by_missing=Y
  test_pathway_missing=Y
Severity=High
Context: “… schema completeness. If a single row fails any of these checks, the defect channel halts … writes the row …” 
Confidence=MEDIUM
--- END IC 1 ---

--- IC 2 ---
Stage: ValidateAdversarialIndistinguishability
Anchor: "The classifier’s AUROC is evaluated once every million rows; as soon as it exceeds 0.55, the validator short-circuits, dumps the model dump, the misclassified example indices, and the seed state of the RNG to `/tmp/auroc_failure`, then throws `DistributionDriftDetected`." 
Input_artefact: config/validation_conf.yml
Input_schema: Yes
Output_artefact: validation/auroc_model_<parameter_hash>.parquet; validation/misclassified_<parameter_hash>.csv; logs/rng_trace.log
Output_schema: No
Partitioning_rule: No
Success_metric: No
Error_code_policy: Yes
Schema_version: version  
Access_policy: Missing
Consumed_by: Missing
Test_pathway: Missing
Gap_flags:
  input_missing=N
  input_schema_missing=N
  output_missing=N
  output_schema_missing=Y
  partition_missing=Y
  metric_missing=Y
  error_policy_missing=N
  schema_version_missing=Y
  access_policy_missing=Y
  consumed_by_missing=Y
  test_pathway_missing=Y
Severity=High
Context: “… dumps the model dump … then throws `DistributionDriftDetected`.” 
Confidence=MEDIUM
--- END IC 2 ---

--- IC 3 ---
Stage: ValidateSemanticCongruence
Anchor: "A value outside corridor immediately causes the validator to mark `footfall_coefficients.yaml` with a Git attribute `needs_recalibration` and to emit a PDF file named `glm_theta_violation.pdf` in the `validation/<parameter_hash>/` directory…" 
Input_artefact: config/footfall_coefficients.yaml; {dataset_root}/site_catalogue/*.parquet
Input_schema: Yes
Output_artefact: validation/theta_violation_<parameter_hash>.pdf
Output_schema: No
Partitioning_rule: No
Success_metric: No
Error_code_policy: Yes
Schema_version: version  
Access_policy: Missing
Consumed_by: Missing
Test_pathway: Missing
Gap_flags:
  input_missing=N
  input_schema_missing=N
  output_missing=N
  output_schema_missing=Y
  partition_missing=Y
  metric_missing=Y
  error_policy_missing=N
  schema_version_missing=Y
  access_policy_missing=Y
  consumed_by_missing=Y
  test_pathway_missing=Y
Severity=High
Context: “… emit a PDF file named `glm_theta_violation.pdf` …” 
Confidence=MEDIUM
--- END IC 3 ---

--- IC 4 ---
Stage: ValidateOffsetBarcode
Anchor: "If a merchant’s dominant slope falls outside −1 to −0.5, the barcode inspection fails. When it fails, the validator renders … and stores it under `barcode_failure_<merchant_id>.png`." 
Input_artefact: {dataset_root}/transactions/*.parquet; config/barcode_bounds.yml
Input_schema: Yes
Output_artefact: validation/barcode_failure_<merchant_id>.png
Output_schema: No
Partitioning_rule: No
Success_metric: No
Error_code_policy: Yes
Schema_version: version  
Access_policy: Missing
Consumed_by: Missing
Test_pathway: Missing
Gap_flags:
  input_missing=N
  input_schema_missing=N
  output_missing=N
  output_schema_missing=Y
  partition_missing=Y
  metric_missing=Y
  error_policy_missing=N
  schema_version_missing=Y
  access_policy_missing=Y
  consumed_by_missing=Y
  test_pathway_missing=Y
Severity=High
Context: “… stores it under `barcode_failure_<merchant_id>.png`.” 
Confidence=MEDIUM
--- END IC 4 ---

--- IC 5 ---
Stage: ValidateLicences
Anchor: "the validator recomputes the SHA-1 of each licence file, compares it with the SHA-1 digests recorded in the manifest’s `licence_digests` field via `validate_licences.py`, raising `LicenceMismatchError` on any mismatch." 
Input_artefact: artefact_registry.yaml
Input_schema: Yes
Output_artefact: validation/licence_check.log
Output_schema: No
Partitioning_rule: No
Success_metric: No
Error_code_policy: Yes
Schema_version: Missing
Access_policy: Missing
Consumed_by: Missing
Test_pathway: Missing
Gap_flags:
  input_missing=N
  input_schema_missing=N
  output_missing=N
  output_schema_missing=Y
  partition_missing=Y
  metric_missing=Y
  error_policy_missing=N
  schema_version_missing=Y
  access_policy_missing=Y
  consumed_by_missing=Y
  test_pathway_missing=Y
Severity=High
Context: “… raising `LicenceMismatchError` on any mismatch.” 
Confidence=MEDIUM
--- END IC 5 ---

--- IC 6 ---
Stage: UploadToHashGate
Anchor: "uploads the bundle to HashGate at `/hashgate/<parameter_hash>/<master_seed>`…" 
Input_artefact: validation/<parameter_hash>/**  
Input_schema: No
Output_artefact: validation/hashgate_uri.txt
Output_schema: No
Partitioning_rule: No
Success_metric: No
Error_code_policy: Yes
Schema_version: Missing
Access_policy: Missing
Consumed_by: Missing
Test_pathway: Missing
Gap_flags:
  input_missing=N
  input_schema_missing=Y
  output_missing=N
  output_schema_missing=Y
  partition_missing=Y
  metric_missing=Y
  error_policy_missing=N
  schema_version_missing=Y
  access_policy_missing=Y
  consumed_by_missing=Y
  test_pathway_missing=Y
Severity=High
Context: “… uploads the bundle to HashGate at `/hashgate/<parameter_hash>/<master_seed>`…” 
Confidence=MEDIUM
--- END IC 6 ---

--- IC 7 ---
Stage: ValidateMergeCondition
Anchor: "GitHub Actions then polls that URI, retrieves the immutable manifest, recomputes its checksum and merges the dataset only if a byte-for-byte match is observed." 
Input_artefact: validation/hashgate_uri.txt
Input_schema: No
Output_artefact: Missing
Output_schema: No
Partitioning_rule: No
Success_metric: No
Error_code_policy: Yes
Schema_version: Missing
Access_policy: Missing
Consumed_by: Missing
Test_pathway: Missing
Gap_flags:
  input_missing=N
  input_schema_missing=Y
  output_missing=Y
  output_schema_missing=Y
  partition_missing=Y
  metric_missing=Y
  error_policy_missing=N
  schema_version_missing=Y
  access_policy_missing=Y
  consumed_by_missing=Y
  test_pathway_missing=Y
Severity=High
Context: “… and merges the dataset only if a byte-for-byte match is observed.” 
Confidence=MEDIUM
--- END IC 7 ---

<<IC-END>>