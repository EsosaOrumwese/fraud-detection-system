# 2026-02-20


## 2026-02-20 00:22:57 +00:00 - M10.B live check: WSP failure is endpoint wiring drift, not semantic closure
- Inspected WSP task ddb6e4beac7e41468ef35ae57ee40c7c logs in /fraud-platform/dev_min/demo/m10b_20260219T232752Z.
- Observed retries and exhaustion against localhost:8081 (IG_PUSH_RETRY_EXHAUSTED), with stale READY mismatch branch also present.
- Confirmed IG daemon posture: service healthy on port 8080, no service discovery / LB endpoint surfaced.
- Decision: fail closed; rerun SR then rerun WSP with explicit IG_INGEST_URL override to live IG private endpoint.
- Remediation in-flight: SR task 812ff943f3f747a287a254148947b8aa exited 1; next action is log extraction and targeted correction.

## 2026-02-20 01:07:24 +00:00 - M10.B blocker pivot: credentials fixed, client adapter still failing
- Confirmed sequence: endpoint drift -> auth mismatch -> 400 publish failures.
- Rotated Confluent runtime credentials via managed workflow dev-min-m2f-topic-readiness (run 22206773359), then validated metadata success with confluent-kafka (lkc-18rg03).
- Forced ECS daemon redeploy to reload SSM secrets.
- Persisting blocker: IG continues KafkaConnectionError: Unable to determine broker version on current kafka-python adapter path.
- Decision: patch src/fraud_detection/event_bus/kafka.py to confluent-kafka, rebuild/publish image, roll services, rerun M10.B lane.

## 2026-02-20 01:09:09 +00:00 - Implemented Kafka adapter migration to confluent-kafka
- Patched src/fraud_detection/event_bus/kafka.py from kafka-python to confluent-kafka while keeping adapter interfaces stable.
- Added confluent-kafka dependency in pyproject.toml.
- Syntax validation passed via python -m py_compile.
- Planned immediate follow-up: rebuild/publish image and redeploy runtime to consume the fix before rerunning M10.B lane.

## 2026-02-20 01:09:58 +00:00 - Kafka adapter smoke passed
- Ran module-level smoke using patched adapter + SSM runtime credentials.
- list_partitions('fp.bus.control.v1') returned [0].
- Proceeding to image rebuild + managed rollout so runtime uses patched code.

## 2026-02-20 09:56:00 +00:00 - Documentation visibility checkpoint
- USER reported insufficient visibility of in-flight documentation.
- Added explicit checkpoint in `platform.impl_actual.md` confirming live decision-trail coverage and next-step documentation discipline.
- Commitment for ongoing M10.B execution:
  - pre-action decision note in implementation map,
  - post-action outcome + blocker delta in this logbook,
  - fail-closed posture preserved until blocker-free semantic closure.

## 2026-02-20 10:11:00 +00:00 - M10.B blocker confirmed: missing confluent-kafka in runtime image
- Collected daemon health and CloudWatch evidence; several required services were crash-looping.
- Unified failure signature across IG/archive-writer/DF/AL/case-trigger/label-store:
  - `ModuleNotFoundError: No module named 'confluent_kafka'`.
- Root cause isolated to packaging drift:
  - Dockerfile curated dependency selector did not include `confluent-kafka` even though adapter code now imports it.
- Decision: patch Dockerfile selector, rebuild/publish immutable image, roll runtime, then continue M10.B execution.

## 2026-02-20 10:24:00 +00:00 - New image published and rollout posture pinned
- CI packaging run `22207368985` (workflow `dev-min-m1-packaging`) completed successfully from `migrate-dev`.
- New immutable digest resolved: `sha256:ac6e7c42f230f6354c74db7746e0d28d23e10f43e44a3788992aa6ceca3dcd46`.
- Before demo apply, pinned credential-safe posture:
  - source Confluent bootstrap/key/secret from current SSM at apply-time,
  - avoid remote-state credential regression,
  - keep run scope `platform_20260219T234150Z` and continue M10.B.
