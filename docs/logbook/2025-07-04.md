# Logbook
### Date: 4th July 2025
### Project: Fraud Detection System
### Issues Resolved: [SD-01](https://github.com/EsosaOrumwese/fraud-detection-system/issues/24) `in-progress`
### Reference commits: Check commits on this date (if any)

* 1:23am
  * Finally fixed the tests for the previous phases. They all pass
  * fix model_config in the Pydantic models and clean up unused imports

* 7:16am
  * Removed `timezone` from the columns created as I already have `event_time` and `local_time_offset` in my `transaction_schema` which doesn't even include `timezone`.
  * `test_feature_sampling` now runs fine.

* 12:55pm
  * Began closing the gaps in my phase 6 implementation
    1. **No channel-distribution knobs**\
       We hard-coded `["ONLINE","IN_STORE","ATM"]` uniformly, but never exposed `channel_dist` in either YAML or `FeatureConfig`;
    2. **Dropped per-MCC amount overrides**\
       Phase 6 called for “mcc\_amount\_overrides” so you can tune μ/σ per MCC—ours only has a global mean/sigma;
    3. **MCC→geo/currency logic in the wrong layer**\
       We shoved currency/timezone mapping into `core.py` instead of centralizing it in the catalog (or a dedicated mapper);
    4. **Seed misuse across catalogs**\
       We used the same `seed` for both card and merchant RNGs, risking correlated draws;
    5. **Config drift & strictness**\
       Our `model_config = dict(extra="forbid")` is syntactically wrong for Pydantic v2, so typos in the YAML will slip through unnoticed;
    6. **Missing CLI and YAML knobs**\
       We added `batch_size`/`num_workers` fields but didn’t surface them in YAML, and CLI never lets you override channels or MCC weights;

* 3:57pm
  * Scrapped fixing all gaps except for 4-6. The rest can wait till later.

* 4:50pm
  * Upgrade my randomly generated fraud labeller to make use of a feature-driven logistic model and a burst/cluster simulation
    - Move logistic + burst‐clustering labeling logic into `labeler.py`
    - Integrate `label_fraud()` call in `core.py`, dropping internal risk columns afterward
    - Keeps core generator lean and fully configurable via parameters
  * Next I have to properly integrate my revamped data generator into the other processes before resuming SD-01
  

