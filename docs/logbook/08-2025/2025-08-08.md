# Logbook
### Date: 8th August 2025
### Project: Fraud Detection System
### Issues Resolved: [SD-02](https://github.com/EsosaOrumwese/fraud-detection-system/issues/25) `in-progress`
### Reference commits: Check commits on this date (if any)

* 12:16pm
  * Began working on the data-dictionary for subsegment 1A
  * Deleted deprecated contracts: `build_repro/`, `edge_case/`, `interface_contract/`, `parameter_prior_posterior/` and `version_matrix/`.
  * Decide to move from a folder structure for each contract to one for each subsegment. Example but not authoritative:
    ```text
    /contracts/1A/
      artefact_registry
      schema_ingress.1A.json
      schema_egress.1A.json
      invariants.1A.yaml
      rng_contract.1A.yaml
      logging_contract.1A.yaml
      performance.1A.yaml
      interface_contract.1A.yaml   # assembled from the above
    ```

* 3:12pm
  * Fixed up `artefact_registry_1A.yaml`
    * Move all RNG artefacts to a single, namespaced naming scheme (`rng_event_*`), 
    * Fix the three "mis-typed" entries (`nb_final`, `ztp_rejection`, `ztp_retry_exhausted`) to `type: log` and adds schema pointers,
    * Normalize paths to be run-scoped (`seed/parameter_hash/run_id`) for immutability and clean replay.

* 4:15pm
  * `dataset_dictionary.layer1.1A.yaml` locked and loaded to go. 

* 7:08pm
  - Finalized `dataset_dictionary.layer1.1A.yaml`
    * 34 total entries (9 references + 25 datasets/logs)
    * Added/confirmed RNG audit + 12 event logs with run-scoped paths
    * Standardized partitioning to match path placeholders
    * References now point to processed snapshots (Parquet/GeoParquet/COG)
  - Aligned artefact_registry_1A.yaml to the same canon
    * All internal datasets use dataset-directory roots with Hive partitions
    * Egress uses `seed` + `manifest_fingerprint`
    * Validation bundle moved under `data/layer1/1A/validation/fingerprint={...}`
    * Country_set & residual cache include seed partition
    * Fixed dependencies to namespaced rng_event_* IDs
    * Added missing schema pointer for rng_event_hurdle_bernoulli
  - Minor cleanups
    * Matched versions to path conventions
    * Ensured dictionary `dataset_count`: 34 (refs + datasets)

* 10:04pm
  * lock schemas (ingress, 1A internals, layer RNG) + sync dictionary & registry
  * Summary
    - Freeze the schema stage for Layer 1 / Subsegment 1A.
    - Align artefact registry + dataset dictionary to the path/partition canon.
    - Add full, production-ready schemas for: processed ingress refs, 1A internals/egress/diagnostics, and layer-wide RNG logs/events.
  * Files
    - artefact_registry_1A.yaml        (aligned paths, deps; final naming)
    - dataset_dictionary.layer1.1A.yaml (34 entries: 9 refs + 25 datasets/logs; partitions match paths)
    - schemas.ingress.layer1.yaml       (processed references)
    - schemas.1A.yaml                   (1A model/prep/alloc/egress/validation)
    - schemas.layer1.yaml               (RNG audit/trace + 12 event streams)
