# Logbook
### Date: 30th August 2025
### Project: Fraud Detection System
### Issues Resolved: [SD-02](https://github.com/EsosaOrumwese/fraud-detection-system/issues/25) `in-progress`
### Reference commits: Check commits on this date (if any)


* 1:07pm
  * Align with frozen S0/S1 specs; fix ctx shape, timestamps, trace schema, and PRNG notes
    * Why:
      - Remove ambiguity and schema drift in S1-L0; enforce determinism and S0-consistent APIs before wiring S1-L1/L2.
    * What:
      - Keep S0 EventCtx shape: `begin_event_micro(...)` now returns `before_lo`/`before_hi` (internal); emitted JSON still uses `rng_counter_*` via writer.
      - Clarify `end_event_emit(...)` docs: internal `blocks = after−before` is u128; emitted `blocks` is u64 per event (0 or 1 for hurdle).
      - Make microsecond `ts_utc` deterministic: integer-domain ties-to-even rounding (ns→µs) with 1_000_000 carry; exactly 6 digits.
      - Deprecate S0 “blocks-only” trace updater for S1; use totals updater with microsecond timestamp.
      - Align trace schema: remove non-schema `detail` param/field; emit microsecond `ts_utc`, `draws_total`, `blocks_total`, `events_total`, and counter words.
      - Pin decimal u128 encoder: add `u128_to_decimal_string(hi,lo)` (plain base-10 div/mod) to eliminate representation variance.
      - Add PRNG note: master derivation consumes `manifest_fingerprint` **bytes** (hex must be decoded); substreams are master-based per S0.
      - Add predicate notes: `pi∈{0,1}` uses exact binary64 equality; uniforms are strict-open (0,1).
    * Impact:
      - No new artefacts or schemas introduced.
      - S1-L0 now fully matches S0/S1 authorities; prevents downstream confusion in S1-L1/L2.



