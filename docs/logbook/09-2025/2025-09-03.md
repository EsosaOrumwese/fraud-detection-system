# Logbook
### Date: 2nd September 2025
### Project: Fraud Detection System
### Issues Resolved: [SD-02](https://github.com/EsosaOrumwese/fraud-detection-system/issues/25) `in-progress`
### Reference commits: Check commits on this date (if any)


* 6:32am
  * Fixed medium to low/polish issues in S0-L1

* 4:33pm
  * Began working on resolving the issues in S0-L2

* 5:34pm
  * Fix the critical and high issues in S0-L2

* 6:25pm
  * Fix the medium to low/polish issues in S0-L2

* 10:33pm
  * state-0: align L0/L1/L2 and de-hardcode widths; migrate RNG trace; harmonize S0.6 call
    * Summary
      - L0 (frozen.v1)
        * Batch F: populate PARAMETER_SCOPED = ["crossborder_eligibility_flags","hurdle_pi_probs"]
          so verify_partition_keys enforces row/path lineage for S0 outputs.
        * (No API changes; RNG/audit primitives unchanged.)
      - L1 (frozen.v3)
        * Remove magic numbers in encoders and shape guards:
          - derive channel/dev widths from dicts; use membership on dict_dev for bucket domain.
          - keep normative asserts for dict_ch == ["CP","CNP"] and dict_dev == [1..5].
        * Migrate RNG event wrappers to TraceState + totals:
          - end_event_and_trace(..., trace:TraceState) -> TraceState
          - switch to update_rng_trace_totals(...) (blocks/draws/events), no blocks-only paths.
          - Updated wrappers: gumbel, gamma_mt, poisson, normal_box_muller, ztp_rejection/exhausted.
        * S0.7: compute expected beta length from dicts (C_ch, C_dev); no hard-coded 2/5.
      - L2 (frozen)
        * Harmonize §S0.6 “Calls (L1)” to full signature:
          S0_6_apply_eligibility_rules(merchants, params, I, K, parameter_hash, produced_by_fp).
        * Clarify Inputs line to include iso_set (I) and mcc_set (K).
        * (No logic changes; barriers/parallel window unchanged.)
    * Result:
      - No hard-coded widths/vocab in runtime paths; normative pins remain in one place.
      - RNG audit-only policy preserved in S0; trace accounting consistent across layers.
      - Partition lineage checks active for parameter-scoped datasets.
      - L2/L1 are signature-consistent for S0.6; overall flow remains spec-true.
