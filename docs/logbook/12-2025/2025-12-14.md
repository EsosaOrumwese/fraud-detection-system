# Logbook
### Date: 14th December 2025
### Project: Fraud Detection System
### Reference commits: Check commits on this date (if any)

* 2:34pm
   - Continued reading 1B.S1 DAG. Noticed that the columns names for `tile_bounds` is wrong
   
* 2:53pm
   - Fixed the mismatch of schema and implementation. The published schema expects `min_lat_deg`, `max_lat_deg`, `min_lon_deg`, and `max_lon_deg`, but the actual tiles we produce still use the older `west_lon`, `east_lon`, `south_lat`, `north_lat` field names.
      * packages/engine/src/engine/layers/l1/seg_1B/s1_tile_index/l2/runner.py:69-105, 788-805 now emits schema-compliant tile_bounds rows (min/max lat/lon plus centroid columns) and writes them via the batch writer. The validator in …/l3/validator.py (lines 103-245) was updated to require/verify the new columns.
      * Runtime contracts mirror the spec: contracts/schemas/layer1/schemas.1B.yaml (lines 35-77) now defines tile_bounds with min_/max_*(deg) + centroid fields.
      * Downstream consumers were adjusted and kept backward compatible:
         - s6_site_jitter loaders/aggregators/jitter kernel/validators (files under packages/engine/src/engine/layers/l1/seg_1B/s6_site_jitter/**) normalise any legacy west/east/south/north data to the canonical names, operate on the new field set, and raise clear errors if neither schema is present.
         - s7_site_synthesis already handled both, so no code change beyond benefiting from the new data.
         - Tests in tests/engine/layers/l1/seg_1B/test_s6_site_jitter.py were updated to use the new schema and a new regression test ensures legacy partitions are still read correctly.
      * Existing parquet partitions produced before this change do not need to be rewritten immediately—the loaders explicitly detect and rename the legacy columns—but rematerialising tile_bounds will bring them fully in line with the contract.

* 5:02pm
   - Done reading 1B.S2 DAG, now on to 1B.S3

* 5:34pm
   - Done with 1B.S3, moving to 1B.S4 DAG

* 8:08pm
   - Done with 1B.S4 DAG, moving to 1B.S5