# Logbook
### Date: 4th January 2026
### Project: Fraud Detection System
### Reference commits: Check commits on this date (if any)

* 12:33am
   - Fixed 5B.S4 site lookup join failure by normalizing join key dtypes (cast merchant_id to UInt64, site_order to UInt32, and ISO/tzid to Utf8) for both `s1_site_weights` and `site_timezones`, matching schema expectations and preventing u64↔str join mismatches (`packages/engine/src/engine/layers/l2/seg_5B/s4_arrivals/runner.py`).

* 12:43am
   - Added 5B per-state resume support (S1–S4): new CLI flags (`--s1-resume`..`--s4-resume`), Makefile passthrough variables (`SEG5B_S1_RESUME`..`SEG5B_S4_RESUME`), and orchestrator logic to reuse existing outputs when present while preserving state dependency checks (`packages/engine/src/engine/cli/segment5b.py`, `packages/engine/src/engine/scenario_runner/l2_seg_5B.py`, `makefile`).
