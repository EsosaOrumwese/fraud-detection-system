# Logbook
### Date: 8th October 2025
### Project: Fraud Detection System
### Reference commits: Check commits on this date (if any)



* 5:45am
	* Curated the `transaction_schema_merchant_ids` reference dataset (868 merchants across 249 ISO-2 markets, 565 MCCs) from the open MCC/ISO artefacts with deterministic RNG seeding and channel heuristics.
	* Emitted CSV+Parquet artefacts, SHA256 sums, and a manifest anchored to git commit `b16d88a7`, capturing artefact digests for reproducibility.
	* Registered the dataset in the 1A dictionary so S0 ingestion can resolve the canonical merchant universe via `schemas.ingress.layer1.yaml#/merchant_ids`.

* 6:10pm
	* Baseline sanity: current `transaction_schema_merchant_ids` holds 868 merchants (2-5 per ISO) and `world_bank_gdp_per_capita/2025-04-15` covers 17 ISO rows - will expand in upcoming phases.

* 7:00pm
	* Built full `world_bank_gdp_per_capita/2025-10-07` reference (205 ISO-2 rows) with raw World Bank artefacts staged under `artefacts/economic/...` and manifest digests for reproducibility.
	* Derived `gdp_bucket_map/2025-10-07` using Jenks K=5 breaks; recorded breakpoints and input hash for S0 governance.

* 7:30pm
	* Pinned channel and merchant allocation policies (`config/policy/channel_policy.1A.yaml`, `config/policy/merchant_allocation.1A.yaml`) with schema validations to ensure bands and parameters align.
	* Published numeric governance policy `reference/governance/numeric_policy/2025-10-07` capturing merchant, GDP, and channel gates for upcoming S0 runs.
	* Rebuilt `build_transaction_schema_merchant_ids.py` to consume GDP/bucket references and policy surfaces, scaling to 20k merchants with deterministic IDs, MCC assignment, and channel balancing.
	* Generated `v2025-10-08` dataset (205 ISO coverage, CNP mix 25.3%) with manifest/SHA digests referencing policies and governance artefacts.
	* `transaction_schema_merchant_ids` v2025-10-08 rebuilt via policy-driven pipeline (20k merchants, 25.3% CNP) and dictionary pointed to the new reference.
	* Validated post-build metrics: row_count=20,000, ISO coverage=205, per-ISO range [3, 800], global CNP ratio=25.27% within numeric governance bounds.

* 8:06pm
      * Added a policy-driven builder that fetches the DataHub country-codes source, enforces schema guardrails, and emits CSV/Parquet + manifest/QA bundle (`scripts/build_iso_canonical.py`).
      * Materialised the curated reference at `reference/layer1/iso_canonical/v2025-10-08/` (249 ISO-2 records with UN region metadata) along with SHA hashes and raw artefact staging.
      * Introduced the governing schema `contracts/schemas/l1/seg_1A/iso_canonical.schema.json` and registered the dataset in `contracts/dataset_dictionary/l1/seg_1A/layer1.1A.yaml` so S0 can resolve the canonical ISO table.
* 8:15pm
	* Rebuilt gdp_bucket_map v2025-10-08 from GDP reference (Jenks K=5) with manifest digests and wired as authority for S0 bucket lookups.

* 8:35pm
	* Built `settlement_shares_2024Q4` v2025-10-08 via GDP-weighted legal-tender policy (`config/policy/legal_tender_2024Q4.yaml`), emitting CSV/Parquet, QA, manifest, and SHA bundle.
	* Added settlement shares schema/dictionary entries so S0 can seal currency→country priors.
      * Added a companion builder (`scripts/build_ccy_country_shares.py`) that blends the settlement prior (with optional overrides) into the usage shares required downstream, materialising `reference/network/ccy_country_shares/2025-10-08/…`.

* 9:28pm
	* Curated `world_countries` v2025-10-08 from Natural Earth GeoJSON with synthetic microstate polygons, publishing GeoParquet, QA, and manifest.
	* Added world_countries schema/dictionary wiring for S0 spatial lookups.

* 10:00pm
	* Built `tz_world_2025a` from Timezone Boundary Builder (combined-with-oceans JSON) intersected with `world_countries`; published GeoParquet, QA, and manifest.
      * Downloaded Timezone Boundary Builder 2025a release, extracted the combined JSON, and implemented `scripts/build_tz_world.py` to intersect tz polygons with our `world_countries` geometry.
      * Produced `reference/spatial/tz_world/2025-10-08/tz_world_2025a`.parquet along with QA, manifest, and SHA bundle.
      * Added the governing schema `contracts/schemas/l1/seg_1A/tz_world_2025a.schema.json` and registered the dataset in `contracts/dataset_dictionary/l1/seg_1A/layer1.1A.yaml`.

* 11:11pm
	* Added `scripts/build_population_raster.py` plus schema/dictionary entries for `population_raster_2025`; awaiting source GeoTIFF ingestion to execute the workflow.
      * Downloaded WorldPop 2020 1km UN-adjusted global mosaic and generated `population_raster_2025` COG via `scripts/build_population_raster.py`, emitting QA/manifest and registering schema/dictionary entries.
