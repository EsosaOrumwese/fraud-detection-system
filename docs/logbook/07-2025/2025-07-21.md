# Logbook
### Date: 21st July 2025
### Project: Fraud Detection System
### Issues Resolved: [SD-02](https://github.com/EsosaOrumwese/fraud-detection-system/issues/25) `in-progress`
### Reference commits: Check commits on this date (if any)

* 6:04am
  * Finalize “Deriving the civil time zone” spec with full provenance and formula corrections
    * Summary:
      * Specify artefact paths, companion files & digests for tz‑world shapefile  
      * Switch STR‑tree hash to SHA‑256 with Python 3.10 pickle protocol 5  
      * Pin ε nudge in tz_nudge.yml (semver, digest) and override registry in tz_overrides.yaml  
      * Declare tzdata archive file path, semver in `zoneinfo_version.yml`, and manifest digest  
      * Correct event_time_utc formula to multiply by 1000 (ms) and adjust DST tie‑break to raise DSTLookupTieError  
      * Add simulation horizon config usage, cache‑size gauge (< 8 MiB) enforcement, and exception table  
      * Append Governed Artefact Registry and Appendix A with explicit formulas, units, code refs, and examples  

* 11:01pm
  * Finalize “Routing transactions through sites” [2B] spec with full provenance, format, and governance
  * Summary _(refer to change-log: `docs/prompt_engr/model_spec/data-gen/change_log_assump_narr.md`)_
    * Declare site_catalogue.parquet path and manifest key for weight inputs  
    * Anchor routing_manifest.json location, semver, and its digest  
    * Govern config files: routing_day_effect.yml, cdn_country_weights.yaml, routing_validation.yml with paths, schema keys, and manifest digests  
    * Specify binary formats: `<merchant_id>_pweights.bin` (little‑endian float64) and `<merchant_id>_alias.npz` (uncompressed NumPy prob/alias arrays)  
    * Document Philox seed derivation (SHA‑1, code point, policy file) and per‑transaction counter scheme  
    * Add RoutingZeroWeightError for zero‑sum edge case
    * Define “time‑zone group” as the subset of outlets sharing the same IANA `tzid`, and specify re‑normalisation behavior  
    * Encode alias `prob` entries as fixed‑point uint32 thresholds via `round(p_i * N_m)`, aligning binary format with sampling logic    
    * Define routing_audit.log path, rotation, retention and governing config  
    * Introduce performance SLAs (200 MB/s, RAM caps) and Prometheus metrics governance  
    * Append Governed Artefact Registry for 2B and finalize Appendix A if needed 