# Logbook
### Date: 28th July 2025
### Project: Fraud Detection System
### Issues Resolved: [SD-02](https://github.com/EsosaOrumwese/fraud-detection-system/issues/25) `in-progress`
### Reference commits: Check commits on this date (if any)

* 5:48am
  * Started working on aligning 3B specs with the narrative.

* 10:36am
  * Align 3B specs with narrative: enforce virtual rules digest, fix catalogue paths & schemas, compute universe hash, add index, logs, and patch transaction schema
    * `interface_contract_spec_3B.txt`:
      - DeriveIsVirtual: change SUCCESS_METRIC to is_virtual_byte_match for rules YAML digest validation
      - CreateSettlementNode: update path to `edge_catalogue/settlement_node/{merchant_id}.parquet`; add `site_id` and `evidence_url` fields
      - BuildEdgeCatalogue: update path to `edge_catalogue/{merchant_id}.parquet`; change `edge_weight` to int32; add `virtual_universe_hash` field and edge_size_bounds metric
      - ComputeVirtualUniverseHash: new stage outputting `{merchant_id}_virtual_hash.txt` with digest_length_64 SUCCESS_METRIC
      - BuildCdnAliasTable: consume `virtual_hash` digest; write alias at repo root; add universe_hash_match metric; emit `virtual_error.log`
      - Add `edge_progress.log` output to BuildEdgeCatalogue with progress checkpoints
      - ValidateVirtual: rename log to `logs/validate_virtual.log` and change SUCCESS_METRIC to validation_pass
      - PatchTransactionSchema: new stage adding `tzid_settlement`, `tzid_operational`, `ip_latitude`, `ip_longitude` to `transaction_schema.avsc` with schema_fields_present metric
    * `governing_artefacts_3B.txt`:
      - Update `validate_virtual_log` path to `logs/validate_virtual.log`
      - Add entries for `edge_catalogue_index`, `virtual_universe_hash`, `virtual_error_log`, and `edge_progress_log`
    * `version_matrix_3B.toml.txt`:
      - Update `validate_virtual_log` stanza
      - Add stanzas for `edge_catalogue_index.csv`, `{merchant_id}_virtual_hash.txt`, `virtual_error_log`, and `edge_progress_log` with draft version tags
  * Begin working on aligning 4A specs

* 11:28am
  * Things got messy with 4A and 4B, noticed it in segment 3 also. Artefacts aren't properly captured and the issue started with the `governing_artefacts`. I used `gpt4.1` to update it and so it properly didn't read and check my files before updating. End result=rubbish.
  * I need to fix that up before I can finally freeze this layer and sort out the next