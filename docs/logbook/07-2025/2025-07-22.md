# Logbook
### Date: 22nd July 2025
### Project: Fraud Detection System
### Issues Resolved: [SD-02](https://github.com/EsosaOrumwese/fraud-detection-system/issues/25) `in-progress`
### Reference commits: Check commits on this date (if any)

* 4:28pm
  * Finalize “Capturing cross‐zone merchants” sub‑segment 3A with full artifact governance and reproducibility and updated respective narrative and assumptions text files
  * Summary:
    - Load θ from config/allocation/zone_mixture_policy.yml, record theta_digest, and byte‑compare via ci/test_mix_threshold.py  
    - Anchor Dirichlet α in config/layer1/3A/allocation/country_zone_alphas.yaml with zone_alpha_digest and make_zone_alphas.py rebuild  
    - Surface deterministic rounding spec at docs/round_ints.md with rounding_spec_digest and CI test ci/test_rounding_conservation.py  
    - Govern zone floors in config/allocation/zone_floor.yml under zone_floor_digest with CI validation  
    - Pin fallback major‑zone CSV at artefacts/allocation/country_major_zone.csv with major_zone_digest  
    - Emit per‑merchant parquet artefacts/allocation/<merchant_id>_zone_alloc.parquet and zone_alloc_index.csv (zone_alloc_index_digest) for drift detection  
    - Define corporate‑day RNG key as SHA256(global_seed ∥ "gamma_day" ∥ merchant_id) in rng_policy.yml with gamma_day_key_digest  
    - Govern cross‑zone validation in config/validation/cross_zone_validation.yml under cross_zone_validation_digest and CI tests for offset‑barcode and share convergence  
    - Reference rng isolation proof in docs/rng_proof.md (rng_proof_digest) and replay script ci/replay_zone_alloc.py for end‑to‑end reproduction  
    - Record license texts in LICENSES/ with licence_digests in manifest  
    - Append Appendix A for mathematical definitions and the Governed Artefact Registry table
  * Updated change-log

* 8:09pm
  * Finalize “Special treatment for purely virtual merchants” sub‑segment with full artefact governance and deterministic reproducibility
  * Summary:
    - Govern MCC→is_virtual policy ledger in `config/layer1/3B/virtual/mcc_channel_rules.yaml` (`semver` + `sha256_digest` → `virtual_rules_digest`) with CI `test_virtual_rules.py`
    - Pin settlement‑node coordinates in `artefacts/virtual/virtual_settlement_coords.csv` (`semver` + `sha256_digest` → `settlement_coord_digest`) with CI `verify_coords_evidence.py`
    - Add offline Pelias geocoder bundle `artefacts/geocode/pelias_cached.sqlite` (`semver` + `sha256_digest` → `pelias_digest`) with CI `test_geocoder_bundle.py`
    - Govern CDN edge weights in `config/layer1/3B/virtual/cdn_country_weights.yaml` (`semver` + `sha256_digest` → `cdn_weights_digest`) with CI `test_cdn_weights.py`
    - Explicitly reference HRSL raster `artefacts/rasters/hrsl_100m.tif` (`semver` + `sha256_digest` → `hrsl_digest`) with CI `test_raster_availability.py`
    - Write edge‑catalogue Parquet hashes and append to `edge_catalogue_index.csv` (`sha256` → `edge_catalogue_index_digest`) for drift detection
    - Define Philox sub‑stream key derivation in `config/routing/rng_policy.yml` (`sha256_digest` → `cdn_key_digest`) with CI `test_cdn_key.py`
    - Govern virtual‑merchant validation thresholds in `config/layer1/3B/virtual/virtual_validation.yml` (`semver` + `sha256_digest` → `virtual_validation_digest`) with CI `test_virtual_validation.py`
    - Specify crash recovery logging to `logs/edge_progress.log` (`config/layer1/3B/logging/virtual_logging.yml` govern rotation + retention → `virtual_logging_digest`) with CI `test_log_config.py`
    - Version and govern `schema/transaction_schema.avsc` virtual fields (`semver` + `sha256_digest` → `transaction_schema_digest`) with CI `test_schema_registry.py`
    - Lock virtual universe hash inputs and CI `test_virtual_universe.py`
    - Register virtual licence texts in `manifest_virtual.json` under `licence_digests_virtual` with CI `test_licences_virtual.py`
    - Append Appendix A for detailed mathematical definitions and Governing Artefact Registry for the virtual sub‑segment
  * Updated change-log