profile_id: dev_min
policy:
  policy_rev: dev-min-v0
  partitioning_profiles_ref: config/platform/ig/partitioning_profiles_v0.yaml
  partitioning_profile_id: ig.partitioning.v0.traffic
  require_gate_pass: true
  stream_speedup: 1
  traffic_output_ids_ref: config/platform/wsp/traffic_outputs_v0.yaml
  context_output_ids_ref: config/platform/wsp/context_fraud_outputs_v0.yaml
  context_output_ids_baseline_ref: config/platform/wsp/context_baseline_outputs_v0.yaml
wiring:
  object_store:
    root: s3://fraud-platform-dev-min-evidence/evidence/runs
    endpoint: ${OBJECT_STORE_ENDPOINT}
    region: ${OBJECT_STORE_REGION}
    path_style: false
  health_bus_probe_mode: none
  # Oracle Store is engine-run-scoped and must not be coupled to platform_run_id.
  oracle_root: ${ORACLE_ROOT}
  oracle_engine_run_root: ${ORACLE_ENGINE_RUN_ROOT}
  oracle_scenario_id: ${ORACLE_SCENARIO_ID}
  oracle_stream_view_root: ${ORACLE_STREAM_VIEW_ROOT}
  admission_db_path: ${IG_ADMISSION_DSN}
  # dev_min authority: IG publish lane is Confluent Kafka (traffic + required context).
  # Runtime supplies bootstrap + SASL credentials via env (`KAFKA_*`), materialized from SSM.
  event_bus_kind: kafka
  security:
    auth_mode: api_key
    api_key_header: X-IG-Api-Key
    # dev_min run: distinct writer principals from local-parity.
    auth_allowlist_ref: config/platform/ig/ingest_api_keys_dev_min_v0.txt
    push_rate_limit_per_minute: 0
    store_read_failure_threshold: 3
