profile_id: local
policy:
  policy_rev: local-v0
  partitioning_profiles_ref: config/platform/ig/partitioning_profiles_v0.yaml
  partitioning_profile_id: ig.partitioning.v0.traffic
  require_gate_pass: true
  stream_speedup: 600.0
  traffic_output_ids_ref: config/platform/wsp/traffic_outputs_v0.yaml
  context_output_ids_ref: config/platform/wsp/context_fraud_outputs_v0.yaml
  context_output_ids_baseline_ref: config/platform/wsp/context_baseline_outputs_v0.yaml
wiring:
  object_store:
    root: runs
    bucket: fraud-platform
    endpoint: ${OBJECT_STORE_ENDPOINT}
  health_bus_probe_mode: describe
  oracle_root: runs/local_full_run-5
  oracle_engine_run_root: ${ORACLE_ENGINE_RUN_ROOT}
  oracle_scenario_id: ${ORACLE_SCENARIO_ID}
  oracle_stream_view_root: ${ORACLE_STREAM_VIEW_ROOT}
  ig_ingest_url: http://localhost:8081
  event_bus:
    root: runs/fraud-platform/eb
    topic_traffic: fp.bus.traffic.v1
    topic_control: fp.bus.control.v1
    topic_audit: fp.bus.audit.v1
  control_bus:
    kind: file
    root: runs/fraud-platform/control_bus
    topic: fp.bus.control.v1
  wsp_checkpoint:
    backend: file
    root: runs/fraud-platform/wsp/checkpoints
    flush_every: 1
  wsp_retry:
    max_attempts: 5
    base_delay_ms: 250
    max_delay_ms: 5000
  wsp_producer:
    producer_id: svc:world_stream_producer
    allowlist_ref: config/platform/wsp/producer_allowlist_v0.txt
ieg:
  policy:
    classification_ref: config/platform/ieg/classification_v0.yaml
    identity_hints_ref: config/platform/ieg/identity_hints_v0.yaml
    retention_ref: config/platform/ieg/retention_local_v0.yaml
    class_map_ref: config/platform/ig/class_map_v0.yaml
    partitioning_profiles_ref: config/platform/ig/partitioning_profiles_v0.yaml
    graph_stream_id: ieg.v0
  wiring:
    projection_db_dsn: ${IEG_PROJECTION_DSN}
    event_bus_kind: file
    event_bus:
      root: runs/fraud-platform/eb
      topics_ref: config/platform/ieg/topics_v0.yaml
    engine_contracts_root: docs/model_spec/data-engine/interface_pack/contracts
    poll_max_records: 200
    poll_sleep_seconds: 0.2
    checkpoint_every: 1
