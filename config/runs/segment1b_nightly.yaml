# Segment 1B nightly run configuration
# Fill in the placeholder paths before scheduling this job.
# State coverage (after S4 implementation):
#   - S0 revalidates the 1A bundle for the manifest fingerprint.
#   - S1+S2 read/write under parameter_hash; S3 emits deterministic site counts.
#   - S4 publishes the allocation plan under data/layer1/1B/s4_alloc_plan/seed=…/fingerprint=…/parameter_hash=…/
#   - Control-plane artefacts (run reports, determinism receipts) live under control/<state>/… as per the dictionary.
runs:
  - parameter_hash: "<replace-with-parameter-hash>"
    data_root: "<absolute-path-to-nightly-root>"
    dictionary: "<absolute-path-to-seg1b-dictionary.yaml>"
    basis: "uniform"       # or "area_m2" / "population"
    dp: 2
    manifest_fingerprint: "<manifest-fingerprint-from-S0>"
    seed: "<seed-from-S0>"
    validation_bundle: "<path-to-1A-validation-bundle>"
    notes: "nightly smoke"
    validate: ["s4"]        # Optional: ["s2","s3","s4"] to chain validator invocations
    s4_run_report: "<optional-path-for-validate-s4-run-report-flag>"
