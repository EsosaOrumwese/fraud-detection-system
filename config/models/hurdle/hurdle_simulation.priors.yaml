semver: "1.2.0"
version: "2025-12-31"

rng:
  algorithm: "philox2x64-10"
  seed: 9248923

calibration:
  enabled: true
  mean_pi_target: 0.16
  mean_mu_target_multi: 6.5
  median_phi_target: 45.0
  fixed_iters: 64
  brackets:
    base_logit: [-10.0, 2.0]
    base_log_mean: [-2.0, 4.0]
    base_log_phi: [1.0, 5.0]

noise:
  per_merchant_logit_sd: 0.38
  per_merchant_log_mu_sd: 0.22
  per_merchant_log_phi_sd: 0.18

clamps:
  pi: { min: 0.01, max: 0.75 }
  mu: { min: 4.0, max: 35.0 }
  phi: { min: 12.0, max: 80.0 }

hurdle:
  base_logit: -1.15

  channel_offsets:
    CP: 0.0
    CNP: -0.55

  bucket_offsets:
    "1": -0.60
    "2": -0.30
    "3": 0.0
    "4": 0.30
    "5": 0.60

  mcc_range_offsets:
    - { range: "1500-1799", offset: 0.05 }
    - { range: "3000-3999", offset: 0.40 }
    - { range: "4000-4799", offset: 0.30 }
    - { range: "4800-4999", offset: 0.10 }
    - { range: "5000-5999", offset: 0.20 }
    - { range: "5300-5399", offset: 0.45 }
    - { range: "5400-5599", offset: 0.55 }
    - { range: "5600-5699", offset: 0.20 }
    - { range: "5700-5799", offset: 0.15 }
    - { range: "5800-5899", offset: 0.20 }
    - { range: "8000-8999", offset: -0.30 }
    - { range: "9000-9999", offset: -0.45 }

  mcc_offsets:
    "5411": 0.65
    "5422": 0.35
    "5441": 0.40
    "5451": 0.45
    "5462": 0.40
    "5499": 0.15
    "5511": 0.15
    "5521": 0.10
    "5531": 0.30
    "5532": 0.30
    "5533": 0.30
    "5541": 0.65
    "5542": 0.65
    "5551": 0.20
    "5552": 0.20
    "5561": 0.15
    "5571": 0.10
    "5592": 0.10
    "5598": 0.10
    "5599": 0.05
    "5811": 0.20
    "5812": 0.35
    "5813": 0.15
    "5814": 0.30
    "5815": -0.30
    "5816": -0.30
    "5817": -0.30
    "5818": -0.30
    "5966": -0.15
    "6011": -0.10
    "7995": -0.35

nb_mean:
  base_log_mean: 0.70

  channel_offsets:
    CP: 0.05
    CNP: -0.20

  mcc_range_offsets:
    - { range: "1500-1799", offset: 0.05 }
    - { range: "3000-3999", offset: 0.40 }
    - { range: "4000-4799", offset: 0.25 }
    - { range: "4800-4999", offset: 0.05 }
    - { range: "5000-5999", offset: 0.10 }
    - { range: "5300-5399", offset: 0.30 }
    - { range: "5400-5599", offset: 0.35 }
    - { range: "5600-5699", offset: 0.20 }
    - { range: "5700-5799", offset: 0.15 }
    - { range: "5800-5899", offset: 0.20 }
    - { range: "8000-8999", offset: -0.20 }
    - { range: "9000-9999", offset: -0.30 }

  mcc_offsets:
    "5411": 0.40
    "5422": 0.20
    "5441": 0.22
    "5451": 0.25
    "5462": 0.20
    "5499": 0.05
    "5511": 0.08
    "5531": 0.18
    "5532": 0.18
    "5533": 0.18
    "5541": 0.45
    "5542": 0.45
    "5551": 0.10
    "5552": 0.10
    "5561": 0.08
    "5592": 0.05
    "5598": 0.05
    "5599": 0.03
    "5811": 0.12
    "5812": 0.25
    "5813": 0.08
    "5814": 0.20
    "5815": -0.12
    "5816": -0.12
    "5817": -0.12
    "5818": -0.12
    "5966": -0.08
    "6011": -0.10
    "7995": -0.20

dispersion:
  base_log_phi: 2.85
  gdp_log_slope: 0.08

  mom:
    epsilon: 1.0e-6
    n_min: 40
    cell_weight_rule: "sqrt_n_cell"

  channel_offsets:
    CP: 0.00
    CNP: -0.05

  mcc_range_offsets:
    - { range: "3000-3999", offset: 0.10 }
    - { range: "4000-4799", offset: 0.10 }
    - { range: "4800-4999", offset: 0.15 }
    - { range: "5300-5399", offset: 0.18 }
    - { range: "5400-5599", offset: 0.20 }
    - { range: "5800-5899", offset: 0.10 }
    - { range: "8000-8999", offset: -0.15 }
    - { range: "9000-9999", offset: -0.20 }

  mcc_offsets:
    "5411": 0.18
    "5441": 0.12
    "5451": 0.12
    "5462": 0.10
    "5541": 0.12
    "5542": 0.12
    "5815": -0.10
    "6011": -0.05
    "7995": -0.20
